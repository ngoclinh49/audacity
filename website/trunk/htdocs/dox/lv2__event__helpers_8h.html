<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Audacity: lv2_event_helpers.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_d12fcf5cb2915e2c4965b3f8146e1fcb.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_2e1f699b506a3ce0416b3045fea62d02.html">effects</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_a4403290e6b9f1443749f556ca12373d.html">lv2</a></div>
<h1>lv2_event_helpers.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
This header defines some helper functions for the the LV2 events extension with URI &lt;<a href="http://lv2plug.in/ns/ext/event">http://lv2plug.in/ns/ext/event</a>&gt; ('lv2ev').<p>
These functions are provided for convenience only, use of them is not required for supporting lv2ev (i.e. the events extension is defined by the raw buffer format described in <a class="el" href="lv2__event_8h.html">lv2_event.h</a> and NOT by this API).<p>
Note that these functions are all static inline which basically means: do not take the address of these functions. 
<p>
<code>#include &lt;assert.h&gt;</code><br>
<code>#include &lt;stdbool.h&gt;</code><br>
<code>#include &lt;stdint.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &quot;<a class="el" href="lv2__event_8h-source.html">lv2_event.h</a>&quot;</code><br>

<p>
<a href="lv2__event__helpers_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lv2__event__helpers_8h.html#0194c1ed14318e027be572e8db0e7850">lv2_event_pad_size</a> (uint16_t size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lv2__event__helpers_8h.html#0e9015d8e759142498460215b45fe8e0">lv2_event_buffer_reset</a> (<a class="el" href="structLV2__Event__Buffer.html">LV2_Event_Buffer</a> *buf, uint16_t stamp_type, uint8_t *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structLV2__Event__Buffer.html">LV2_Event_Buffer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lv2__event__helpers_8h.html#fa72d27f23cc7daa98e7b9e14e83d64a">lv2_event_buffer_new</a> (uint32_t capacity, uint16_t stamp_type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lv2__event__helpers_8h.html#4f20b55de740dd94daae8f8ce864f167">lv2_event_begin</a> (<a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *iter, <a class="el" href="structLV2__Event__Buffer.html">LV2_Event_Buffer</a> *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lv2__event__helpers_8h.html#def736ff920fbc14555edab29db957ae">lv2_event_is_valid</a> (<a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *iter)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lv2__event__helpers_8h.html#3e1c17f74ef7651c5bddf4731674bd93">lv2_event_increment</a> (<a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *iter)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structLV2__Event.html">LV2_Event</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lv2__event__helpers_8h.html#7dcf21aec3aaaee5a1740b871878593a">lv2_event_get</a> (<a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *iter, uint8_t **data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lv2__event__helpers_8h.html#9db9725180af34eb5049ed1d9db50fda">lv2_event_get_nonpod_type</a> (<a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *iter)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lv2__event__helpers_8h.html#e0dc83b37ee9b9a604770a1a3989ee0b">lv2_event_write</a> (<a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *iter, uint32_t frames, uint32_t subframes, uint16_t type, uint16_t size, const uint8_t *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint8_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lv2__event__helpers_8h.html#e874a502f8e197e869489f1518608431">lv2_event_reserve</a> (<a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *iter, uint32_t frames, uint32_t subframes, uint16_t type, uint16_t size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="lv2__event__helpers_8h.html#da560cafea5be0e254bd7a32fdc48c47">lv2_event_write_event</a> (<a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *iter, const <a class="el" href="structLV2__Event.html">LV2_Event</a> *ev, const uint8_t *data)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="4f20b55de740dd94daae8f8ce864f167"></a><!-- doxytag: member="lv2_event_helpers.h::lv2_event_begin" ref="4f20b55de740dd94daae8f8ce864f167" args="(LV2_Event_Iterator *iter, LV2_Event_Buffer *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lv2_event_begin           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *&nbsp;</td>
          <td class="paramname"> <em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structLV2__Event__Buffer.html">LV2_Event_Buffer</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset an iterator to point to the start of <em>buf</em>. <dl class="return" compact><dt><b>Returns:</b></dt><dd>True if <em>iter</em> is valid, otherwise false (buffer is empty) </dd></dl>

</div>
</div><p>
<a class="anchor" name="fa72d27f23cc7daa98e7b9e14e83d64a"></a><!-- doxytag: member="lv2_event_helpers.h::lv2_event_buffer_new" ref="fa72d27f23cc7daa98e7b9e14e83d64a" args="(uint32_t capacity, uint16_t stamp_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structLV2__Event__Buffer.html">LV2_Event_Buffer</a>* lv2_event_buffer_new           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>stamp_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allocate a new, empty event buffer. 
</div>
</div><p>
<a class="anchor" name="0e9015d8e759142498460215b45fe8e0"></a><!-- doxytag: member="lv2_event_helpers.h::lv2_event_buffer_reset" ref="0e9015d8e759142498460215b45fe8e0" args="(LV2_Event_Buffer *buf, uint16_t stamp_type, uint8_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void lv2_event_buffer_reset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLV2__Event__Buffer.html">LV2_Event_Buffer</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>stamp_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize (empty, reset..) an existing event buffer. The contents of buf are ignored entirely and overwritten, except capacity which is unmodified. 
</div>
</div><p>
<a class="anchor" name="7dcf21aec3aaaee5a1740b871878593a"></a><!-- doxytag: member="lv2_event_helpers.h::lv2_event_get" ref="7dcf21aec3aaaee5a1740b871878593a" args="(LV2_Event_Iterator *iter, uint8_t **data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structLV2__Event.html">LV2_Event</a>* lv2_event_get           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *&nbsp;</td>
          <td class="paramname"> <em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dereference an event iterator (get the event currently pointed at). <em>iter</em> must be valid. <em>data</em> if non-NULL, will be set to point to the contents of the event returned. <dl class="return" compact><dt><b>Returns:</b></dt><dd>A Pointer to the event <em>iter</em> is currently pointing at, or NULL if the end of the buffer is reached (in which case <em>data</em> is also set to NULL). </dd></dl>

</div>
</div><p>
<a class="anchor" name="9db9725180af34eb5049ed1d9db50fda"></a><!-- doxytag: member="lv2_event_helpers.h::lv2_event_get_nonpod_type" ref="9db9725180af34eb5049ed1d9db50fda" args="(LV2_Event_Iterator *iter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t lv2_event_get_nonpod_type           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *&nbsp;</td>
          <td class="paramname"> <em>iter</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the type of the non-POD event referenced by an event iterator. <em>iter</em> must be valid. <dl class="return" compact><dt><b>Returns:</b></dt><dd>The type of the non-POD event, or 0 if the event is not non-POD. </dd></dl>

</div>
</div><p>
<a class="anchor" name="3e1c17f74ef7651c5bddf4731674bd93"></a><!-- doxytag: member="lv2_event_helpers.h::lv2_event_increment" ref="3e1c17f74ef7651c5bddf4731674bd93" args="(LV2_Event_Iterator *iter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lv2_event_increment           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *&nbsp;</td>
          <td class="paramname"> <em>iter</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Advance <em>iter</em> forward one event. <em>iter</em> must be valid. <dl class="return" compact><dt><b>Returns:</b></dt><dd>True if <em>iter</em> is valid, otherwise false (reached end of buffer) </dd></dl>

</div>
</div><p>
<a class="anchor" name="def736ff920fbc14555edab29db957ae"></a><!-- doxytag: member="lv2_event_helpers.h::lv2_event_is_valid" ref="def736ff920fbc14555edab29db957ae" args="(LV2_Event_Iterator *iter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lv2_event_is_valid           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *&nbsp;</td>
          <td class="paramname"> <em>iter</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if <em>iter</em> is valid.. <dl class="return" compact><dt><b>Returns:</b></dt><dd>True if <em>iter</em> is valid, otherwise false (past end of buffer) </dd></dl>

</div>
</div><p>
<a class="anchor" name="0194c1ed14318e027be572e8db0e7850"></a><!-- doxytag: member="lv2_event_helpers.h::lv2_event_pad_size" ref="0194c1ed14318e027be572e8db0e7850" args="(uint16_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t lv2_event_pad_size           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pad a size to 64 bits (for event sizes) 
</div>
</div><p>
<a class="anchor" name="e874a502f8e197e869489f1518608431"></a><!-- doxytag: member="lv2_event_helpers.h::lv2_event_reserve" ref="e874a502f8e197e869489f1518608431" args="(LV2_Event_Iterator *iter, uint32_t frames, uint32_t subframes, uint16_t type, uint16_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t* lv2_event_reserve           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *&nbsp;</td>
          <td class="paramname"> <em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>subframes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reserve space for an event in the buffer and return a pointer to the memory where the caller can write the event data, or NULL if there is not enough room in the buffer. 
</div>
</div><p>
<a class="anchor" name="e0dc83b37ee9b9a604770a1a3989ee0b"></a><!-- doxytag: member="lv2_event_helpers.h::lv2_event_write" ref="e0dc83b37ee9b9a604770a1a3989ee0b" args="(LV2_Event_Iterator *iter, uint32_t frames, uint32_t subframes, uint16_t type, uint16_t size, const uint8_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lv2_event_write           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *&nbsp;</td>
          <td class="paramname"> <em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>subframes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write an event at <em>iter</em>. The event (if any) pointed to by  will be overwritten, and <em>iter</em> incremented to point to the following event (i.e. several calls to this function can be done in sequence without twiddling iter in-between). <dl class="return" compact><dt><b>Returns:</b></dt><dd>True if event was written, otherwise false (buffer is full). </dd></dl>

</div>
</div><p>
<a class="anchor" name="da560cafea5be0e254bd7a32fdc48c47"></a><!-- doxytag: member="lv2_event_helpers.h::lv2_event_write_event" ref="da560cafea5be0e254bd7a32fdc48c47" args="(LV2_Event_Iterator *iter, const LV2_Event *ev, const uint8_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool lv2_event_write_event           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLV2__Event__Iterator.html">LV2_Event_Iterator</a> *&nbsp;</td>
          <td class="paramname"> <em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structLV2__Event.html">LV2_Event</a> *&nbsp;</td>
          <td class="paramname"> <em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write an event at <em>iter</em>. The event (if any) pointed to by  will be overwritten, and <em>iter</em> incremented to point to the following event (i.e. several calls to this function can be done in sequence without twiddling iter in-between). <dl class="return" compact><dt><b>Returns:</b></dt><dd>True if event was written, otherwise false (buffer is full). </dd></dl>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Oct 11 21:08:35 2008 for Audacity by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
