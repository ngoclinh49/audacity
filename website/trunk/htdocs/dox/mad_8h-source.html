<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Audacity: mad.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="dir_d12fcf5cb2915e2c4965b3f8146e1fcb.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_0082b7156f9b40cb8e9ca2412fd9a578.html">include</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_36a3536ba5483849758ab690e88a0d74.html">win32</a></div>
<h1>mad.h</h1><a href="mad_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * libmad - MPEG audio decoder library</span>
<a name="l00003"></a>00003 <span class="comment"> * Copyright (C) 2000-2001 Robert Leslie</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * This program is free software; you can redistribute it and/or modify</span>
<a name="l00006"></a>00006 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
<a name="l00007"></a>00007 <span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span>
<a name="l00008"></a>00008 <span class="comment"> * (at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00013"></a>00013 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00014"></a>00014 <span class="comment"> *</span>
<a name="l00015"></a>00015 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00016"></a>00016 <span class="comment"> * along with this program; if not, write to the Free Software</span>
<a name="l00017"></a>00017 <span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<a name="l00018"></a>00018 <span class="comment"> *</span>
<a name="l00019"></a>00019 <span class="comment"> * If you would like to negotiate alternate licensing terms, you may do</span>
<a name="l00020"></a>00020 <span class="comment"> * so by contacting the author: Robert Leslie &lt;rob@mars.org&gt;</span>
<a name="l00021"></a>00021 <span class="comment"> */</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor"># ifdef __cplusplus</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00025"></a>00025 <span class="preprocessor"># endif</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span>
<a name="l00027"></a><a class="code" href="mad_8h.html#c451994561cb3d439255059cff259057">00027</a> <span class="preprocessor"># define FPM_INTEL</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00029"></a><a class="code" href="mad_8h.html#44184cf844a916eee78598ab35fc966b">00029</a> <span class="preprocessor"># define SIZEOF_INT 4</span>
<a name="l00030"></a><a class="code" href="mad_8h.html#22aece5d034fd9040a3d01c3797fdfe7">00030</a> <span class="preprocessor"></span><span class="preprocessor"># define SIZEOF_LONG 4</span>
<a name="l00031"></a><a class="code" href="mad_8h.html#cd1ddb89a6f7f17d1c152499173c3eef">00031</a> <span class="preprocessor"></span><span class="preprocessor"># define SIZEOF_LONG_LONG 8</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00033"></a>00033 <span class="comment">/* Id: version.h,v 1.1.1.2 2001/10/20 21:43:32 dmazzoni Exp */</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="preprocessor"># ifndef LIBMAD_VERSION_H</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor"># define LIBMAD_VERSION_H</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a><a class="code" href="mad_8h.html#046f223d5458612e4227d402021ada6a">00038</a> <span class="preprocessor"># define MAD_VERSION_MAJOR 0</span>
<a name="l00039"></a><a class="code" href="mad_8h.html#6ce409f82a14d731eec40d2ee92a3b15">00039</a> <span class="preprocessor"></span><span class="preprocessor"># define MAD_VERSION_MINOR 14</span>
<a name="l00040"></a><a class="code" href="mad_8h.html#41cada8d90ad1ca4f2ffd7d32d41b955">00040</a> <span class="preprocessor"></span><span class="preprocessor"># define MAD_VERSION_PATCH 0</span>
<a name="l00041"></a><a class="code" href="mad_8h.html#4c77fa2bdf2db7ef43ae26203d8e01c7">00041</a> <span class="preprocessor"></span><span class="preprocessor"># define MAD_VERSION_EXTRA " (beta)"</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a><a class="code" href="mad_8h.html#c04935c11ed1c4151154bdbcb5a24065">00043</a> <span class="preprocessor"># define MAD_VERSION_STRINGIZE(str) #str</span>
<a name="l00044"></a><a class="code" href="mad_8h.html#6f4807e25002fd13a45907150769ded9">00044</a> <span class="preprocessor"></span><span class="preprocessor"># define MAD_VERSION_STRING(num) MAD_VERSION_STRINGIZE(num)</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00046"></a><a class="code" href="mad_8h.html#da05ce3820228a7974b7fbfa6a8ac3a2">00046</a> <span class="preprocessor"># define MAD_VERSION    MAD_VERSION_STRING(MAD_VERSION_MAJOR) "."  \</span>
<a name="l00047"></a>00047 <span class="preprocessor">            MAD_VERSION_STRING(MAD_VERSION_MINOR) "."  \</span>
<a name="l00048"></a>00048 <span class="preprocessor">            MAD_VERSION_STRING(MAD_VERSION_PATCH)  \</span>
<a name="l00049"></a>00049 <span class="preprocessor">            MAD_VERSION_EXTRA</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span>
<a name="l00051"></a><a class="code" href="mad_8h.html#11c58305e44a2eea0bcb291e89510feb">00051</a> <span class="preprocessor"># define MAD_PUBLISHYEAR   "2000-2001"</span>
<a name="l00052"></a><a class="code" href="mad_8h.html#ddecc1f19e32d59a7d61ce99a135161d">00052</a> <span class="preprocessor"></span><span class="preprocessor"># define MAD_AUTHOR     "Robert Leslie"</span>
<a name="l00053"></a><a class="code" href="mad_8h.html#d068c69e5eb1bc27489c1148e5aa57b1">00053</a> <span class="preprocessor"></span><span class="preprocessor"># define MAD_EMAIL      "rob@mars.org"</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a>00055 <span class="keyword">extern</span> <span class="keywordtype">char</span> <span class="keyword">const</span> <a class="code" href="mad_8h.html#591cc8ef08e7a4aa760dd39c3b2ac6fd">mad_version</a>[];
<a name="l00056"></a>00056 <span class="keyword">extern</span> <span class="keywordtype">char</span> <span class="keyword">const</span> <a class="code" href="mad_8h.html#96d0c229655b816cb04a849560ceb61d">mad_copyright</a>[];
<a name="l00057"></a>00057 <span class="keyword">extern</span> <span class="keywordtype">char</span> <span class="keyword">const</span> <a class="code" href="mad_8h.html#91fd9056faedd006c829818a4865c93c">mad_author</a>[];
<a name="l00058"></a>00058 <span class="keyword">extern</span> <span class="keywordtype">char</span> <span class="keyword">const</span> <a class="code" href="mad_8h.html#11104a46f15ac68091f712bda8e0673a">mad_build</a>[];
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="preprocessor"># endif</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00062"></a>00062 <span class="comment">/* Id: fixed.h,v 1.1.1.2 2001/10/20 21:43:32 dmazzoni Exp */</span>
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="preprocessor"># ifndef LIBMAD_FIXED_H</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span><span class="preprocessor"># define LIBMAD_FIXED_H</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span>
<a name="l00067"></a>00067 <span class="preprocessor"># if defined(FPM_FLOAT)</span>
<a name="l00068"></a>00068 <span class="preprocessor"></span><span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="mad_8h.html#5086b0f25866d1a5d2511e1c9824dfe6">mad_fixed_t</a>;
<a name="l00069"></a>00069 <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="mad_8h.html#e47027c34651060a730a7d8266c45307">mad_fixed64hi_t</a>;
<a name="l00070"></a>00070 <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="mad_8h.html#739f4d59695c7a51dfeccc623d0fda80">mad_fixed64lo_t</a>;
<a name="l00071"></a>00071 <span class="preprocessor"># else</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span><span class="preprocessor">#  if SIZEOF_INT &gt;= 4</span>
<a name="l00073"></a><a class="code" href="mad_8h.html#5086b0f25866d1a5d2511e1c9824dfe6">00073</a> <span class="preprocessor"></span><span class="keyword">typedef</span>   <span class="keywordtype">signed</span> <span class="keywordtype">int</span> mad_fixed_t;
<a name="l00074"></a>00074 
<a name="l00075"></a><a class="code" href="mad_8h.html#e47027c34651060a730a7d8266c45307">00075</a> <span class="keyword">typedef</span>   <span class="keywordtype">signed</span> <span class="keywordtype">int</span> mad_fixed64hi_t;
<a name="l00076"></a><a class="code" href="mad_8h.html#739f4d59695c7a51dfeccc623d0fda80">00076</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mad_fixed64lo_t;
<a name="l00077"></a>00077 <span class="preprocessor">#  else</span>
<a name="l00078"></a>00078 <span class="preprocessor"></span><span class="keyword">typedef</span>   <span class="keywordtype">signed</span> <span class="keywordtype">long</span> mad_fixed_t;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="keyword">typedef</span>   <span class="keywordtype">signed</span> <span class="keywordtype">long</span> mad_fixed64hi_t;
<a name="l00081"></a>00081 <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> mad_fixed64lo_t;
<a name="l00082"></a>00082 <span class="preprocessor">#  endif</span>
<a name="l00083"></a>00083 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span>
<a name="l00085"></a>00085 <span class="preprocessor"># if defined(_MSC_VER)</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span><span class="preprocessor">#  define mad_fixed64_t  signed __int64</span>
<a name="l00087"></a><a class="code" href="mad_8h.html#283baa2bf012e39c892041bd3bc07479">00087</a> <span class="preprocessor"></span><span class="preprocessor"># elif 1 || defined(__GNUC__)</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span><span class="preprocessor">#  define mad_fixed64_t  signed long long</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span>
<a name="l00091"></a>00091 <span class="comment">/*</span>
<a name="l00092"></a>00092 <span class="comment"> * Fixed-point format: 0xABBBBBBB</span>
<a name="l00093"></a>00093 <span class="comment"> * A == whole part      (sign + 3 bits)</span>
<a name="l00094"></a>00094 <span class="comment"> * B == fractional part (28 bits)</span>
<a name="l00095"></a>00095 <span class="comment"> *</span>
<a name="l00096"></a>00096 <span class="comment"> * Values are signed two's complement, so the effective range is:</span>
<a name="l00097"></a>00097 <span class="comment"> * 0x80000000 to 0x7fffffff</span>
<a name="l00098"></a>00098 <span class="comment"> *       -8.0 to +7.9999999962747097015380859375</span>
<a name="l00099"></a>00099 <span class="comment"> *</span>
<a name="l00100"></a>00100 <span class="comment"> * The smallest representable value is:</span>
<a name="l00101"></a>00101 <span class="comment"> * 0x00000001 == 0.0000000037252902984619140625 (i.e. about 3.725e-9)</span>
<a name="l00102"></a>00102 <span class="comment"> *</span>
<a name="l00103"></a>00103 <span class="comment"> * 28 bits of fractional accuracy represent about</span>
<a name="l00104"></a>00104 <span class="comment"> * 8.6 digits of decimal accuracy.</span>
<a name="l00105"></a>00105 <span class="comment"> *</span>
<a name="l00106"></a>00106 <span class="comment"> * Fixed-point numbers can be added or subtracted as normal</span>
<a name="l00107"></a>00107 <span class="comment"> * integers, but multiplication requires shifting the 64-bit result</span>
<a name="l00108"></a>00108 <span class="comment"> * from 56 fractional bits back to 28 (and rounding.)</span>
<a name="l00109"></a>00109 <span class="comment"> *</span>
<a name="l00110"></a>00110 <span class="comment"> * Changing the definition of MAD_F_FRACBITS is only partially</span>
<a name="l00111"></a>00111 <span class="comment"> * supported, and must be done with care.</span>
<a name="l00112"></a>00112 <span class="comment"> */</span>
<a name="l00113"></a><a class="code" href="mad_8h.html#fe9f395501b4973ab536c13fb8235944">00113</a> 
<a name="l00114"></a>00114 <span class="preprocessor"># define MAD_F_FRACBITS    28</span>
<a name="l00115"></a>00115 <span class="preprocessor"></span>
<a name="l00116"></a><a class="code" href="mad_8h.html#15f8a99ff8c6449921db3c15e8b80ed5">00116</a> <span class="preprocessor"># if MAD_F_FRACBITS == 28</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F(x)      ((mad_fixed_t) (x##L))</span>
<a name="l00118"></a>00118 <span class="preprocessor"></span><span class="preprocessor"># else</span>
<a name="l00119"></a>00119 <span class="preprocessor"></span><span class="preprocessor">#  if MAD_F_FRACBITS &lt; 28</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span><span class="preprocessor">#   warning "MAD_F_FRACBITS &lt; 28"</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span><span class="preprocessor">#   define MAD_F(x)     ((mad_fixed_t)  \</span>
<a name="l00122"></a>00122 <span class="preprocessor">             (((x##L) +  \</span>
<a name="l00123"></a>00123 <span class="preprocessor">               (1L &lt;&lt; (28 - MAD_F_FRACBITS - 1))) &gt;&gt;  \</span>
<a name="l00124"></a>00124 <span class="preprocessor">              (28 - MAD_F_FRACBITS)))</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span><span class="preprocessor">#  elif MAD_F_FRACBITS &gt; 28</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span><span class="preprocessor">#   error "MAD_F_FRACBITS &gt; 28 not currently supported"</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span><span class="preprocessor">#   define MAD_F(x)     ((mad_fixed_t)  \</span>
<a name="l00128"></a>00128 <span class="preprocessor">             ((x##L) &lt;&lt; (MAD_F_FRACBITS - 28)))</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
<a name="l00130"></a><a class="code" href="mad_8h.html#03929035ef601782a50acba22aaa2dac">00130</a> <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00131"></a><a class="code" href="mad_8h.html#67652605773e172bfd88a59f900c5b4f">00131</a> <span class="preprocessor"></span>
<a name="l00132"></a>00132 <span class="preprocessor"># define MAD_F_MIN      ((mad_fixed_t) -0x80000000L)</span>
<a name="l00133"></a><a class="code" href="mad_8h.html#0e0af3bf1ae6bf41e8e25eaa5606beba">00133</a> <span class="preprocessor"></span><span class="preprocessor"># define MAD_F_MAX      ((mad_fixed_t) +0x7fffffffL)</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span>
<a name="l00135"></a><a class="code" href="mad_8h.html#6c173fe62613adbb98f65cedeabf54e0">00135</a> <span class="preprocessor"># define MAD_F_ONE      MAD_F(0x10000000)</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span>
<a name="l00137"></a><a class="code" href="mad_8h.html#b89fbb463a905be3b71c39d148626d9c">00137</a> <span class="preprocessor"># define mad_f_tofixed(x)  ((mad_fixed_t)  \</span>
<a name="l00138"></a>00138 <span class="preprocessor">             ((x) * (double) (1L &lt;&lt; MAD_F_FRACBITS) + 0.5))</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span><span class="preprocessor"># define mad_f_todouble(x) ((double)  \</span>
<a name="l00140"></a><a class="code" href="mad_8h.html#a850442e41ebbdf423afc558e02f26fc">00140</a> <span class="preprocessor">             ((x) / (double) (1L &lt;&lt; MAD_F_FRACBITS)))</span>
<a name="l00141"></a><a class="code" href="mad_8h.html#db451b6d7dd6c047fbdf93a2a95d1021">00141</a> <span class="preprocessor"></span>
<a name="l00142"></a>00142 <span class="preprocessor"># define mad_f_intpart(x)  ((x) &gt;&gt; MAD_F_FRACBITS)</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span><span class="preprocessor"># define mad_f_fracpart(x) ((x) &amp; ((1L &lt;&lt; MAD_F_FRACBITS) - 1))</span>
<a name="l00144"></a><a class="code" href="mad_8h.html#4be984ff1bc37a93928705089668ee71">00144</a> <span class="preprocessor"></span>            <span class="comment">/* (x should be positive) */</span>
<a name="l00145"></a>00145 
<a name="l00146"></a><a class="code" href="mad_8h.html#a39dad203617307f6d641f797516d871">00146</a> <span class="preprocessor"># define mad_f_fromint(x)  ((x) &lt;&lt; MAD_F_FRACBITS)</span>
<a name="l00147"></a><a class="code" href="mad_8h.html#3836b9f2d266932db1192c4c5195298c">00147</a> <span class="preprocessor"></span>
<a name="l00148"></a>00148 <span class="preprocessor"># define mad_f_add(x, y)   ((x) + (y))</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span><span class="preprocessor"># define mad_f_sub(x, y)   ((x) - (y))</span>
<a name="l00150"></a>00150 <span class="preprocessor"></span>
<a name="l00151"></a>00151 <span class="preprocessor"># if defined(FPM_FLOAT)</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span><span class="preprocessor">#  error "FPM_FLOAT not yet supported"</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>
<a name="l00154"></a>00154 <span class="preprocessor">#  undef MAD_F</span>
<a name="l00155"></a>00155 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F(x)      mad_f_todouble(x)</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span>
<a name="l00157"></a>00157 <span class="preprocessor">#  define mad_f_mul(x, y)  ((x) * (y))</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span><span class="preprocessor">#  define mad_f_scale64</span>
<a name="l00159"></a>00159 <span class="preprocessor"></span>
<a name="l00160"></a>00160 <span class="preprocessor">#  undef ASO_ZEROCHECK</span>
<a name="l00161"></a>00161 <span class="preprocessor"></span>
<a name="l00162"></a>00162 <span class="preprocessor"># elif defined(FPM_64BIT)</span>
<a name="l00163"></a>00163 <span class="preprocessor"></span>
<a name="l00164"></a>00164 <span class="comment">/*</span>
<a name="l00165"></a>00165 <span class="comment"> * This version should be the most accurate if 64-bit types are supported by</span>
<a name="l00166"></a>00166 <span class="comment"> * the compiler, although it may not be the most efficient.</span>
<a name="l00167"></a>00167 <span class="comment"> */</span>
<a name="l00168"></a>00168 <span class="preprocessor">#  if defined(OPT_ACCURACY)</span>
<a name="l00169"></a>00169 <span class="preprocessor"></span><span class="preprocessor">#   define mad_f_mul(x, y)  \</span>
<a name="l00170"></a>00170 <span class="preprocessor">    ((mad_fixed_t)  \</span>
<a name="l00171"></a>00171 <span class="preprocessor">     ((((mad_fixed64_t) (x) * (y)) +  \</span>
<a name="l00172"></a>00172 <span class="preprocessor">       (1L &lt;&lt; (MAD_F_SCALEBITS - 1))) &gt;&gt; MAD_F_SCALEBITS))</span>
<a name="l00173"></a>00173 <span class="preprocessor"></span><span class="preprocessor">#  else</span>
<a name="l00174"></a>00174 <span class="preprocessor"></span><span class="preprocessor">#   define mad_f_mul(x, y)  \</span>
<a name="l00175"></a>00175 <span class="preprocessor">    ((mad_fixed_t) (((mad_fixed64_t) (x) * (y)) &gt;&gt; MAD_F_SCALEBITS))</span>
<a name="l00176"></a>00176 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
<a name="l00177"></a>00177 <span class="preprocessor"></span>
<a name="l00178"></a>00178 <span class="preprocessor">#  define MAD_F_SCALEBITS  MAD_F_FRACBITS</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span>
<a name="l00180"></a>00180 <span class="comment">/* --- Intel --------------------------------------------------------------- */</span>
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 <span class="preprocessor"># elif defined(FPM_INTEL)</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span>
<a name="l00184"></a>00184 <span class="preprocessor">#  if defined(_MSC_VER)</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span><span class="preprocessor">#   pragma warning(push)</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span><span class="preprocessor">#   pragma warning(disable: 4035)  </span><span class="comment">/* no return value */</span>
<a name="l00187"></a>00187 <span class="keyword">static</span> __forceinline
<a name="l00188"></a>00188 mad_fixed_t mad_f_mul_inline(mad_fixed_t x, mad_fixed_t y)
<a name="l00189"></a>00189 {
<a name="l00190"></a>00190   <span class="keyword">enum</span> {
<a name="l00191"></a>00191     fracbits = <a class="code" href="mad_8h.html#fe9f395501b4973ab536c13fb8235944">MAD_F_FRACBITS</a>
<a name="l00192"></a>00192   };
<a name="l00193"></a>00193 
<a name="l00194"></a>00194   __asm {
<a name="l00195"></a>00195     mov eax, x
<a name="l00196"></a>00196     imul y
<a name="l00197"></a>00197     shrd eax, edx, fracbits
<a name="l00198"></a>00198   }
<a name="l00199"></a>00199 
<a name="l00200"></a>00200   <span class="comment">/* implicit return of eax */</span>
<a name="l00201"></a>00201 }
<a name="l00202"></a>00202 <span class="preprocessor">#   pragma warning(pop)</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span>
<a name="l00204"></a>00204 <span class="preprocessor">#   define mad_f_mul    mad_f_mul_inline</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span><span class="preprocessor">#   define mad_f_scale64</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span><span class="preprocessor">#  else</span>
<a name="l00207"></a><a class="code" href="mad_8h.html#32e96014bff64372e6ddda6449d2862a">00207</a> <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00208"></a>00208 <span class="comment"> * This Intel version is fast and accurate; the disposition of the least</span>
<a name="l00209"></a>00209 <span class="comment"> * significant bit depends on OPT_ACCURACY via mad_f_scale64().</span>
<a name="l00210"></a>00210 <span class="comment"> */</span>
<a name="l00211"></a>00211 <span class="preprocessor">#   define MAD_F_MLX(hi, lo, x, y)  \</span>
<a name="l00212"></a>00212 <span class="preprocessor">    asm ("imull %3"  \</span>
<a name="l00213"></a>00213 <span class="preprocessor">    : "=a" (lo), "=d" (hi)  \</span>
<a name="l00214"></a>00214 <span class="preprocessor">    : "%a" (x), "rm" (y)  \</span>
<a name="l00215"></a>00215 <span class="preprocessor">    : "cc")</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span>
<a name="l00217"></a>00217 <span class="preprocessor">#   if defined(OPT_ACCURACY)</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00219"></a>00219 <span class="comment"> * This gives best accuracy but is not very fast.</span>
<a name="l00220"></a>00220 <span class="comment"> */</span>
<a name="l00221"></a>00221 <span class="preprocessor">#    define MAD_F_MLA(hi, lo, x, y)  \</span>
<a name="l00222"></a>00222 <span class="preprocessor">    ({ mad_fixed64hi_t __hi;  \</span>
<a name="l00223"></a>00223 <span class="preprocessor">       mad_fixed64lo_t __lo;  \</span>
<a name="l00224"></a>00224 <span class="preprocessor">       MAD_F_MLX(__hi, __lo, (x), (y));  \</span>
<a name="l00225"></a>00225 <span class="preprocessor">       asm ("addl %2,%0\n\t"  \</span>
<a name="l00226"></a>00226 <span class="preprocessor">       "adcl %3,%1"  \</span>
<a name="l00227"></a>00227 <span class="preprocessor">       : "=rm" (lo), "=rm" (hi)  \</span>
<a name="l00228"></a>00228 <span class="preprocessor">       : "r" (__lo), "r" (__hi), "0" (lo), "1" (hi)  \</span>
<a name="l00229"></a>00229 <span class="preprocessor">       : "cc");  \</span>
<a name="l00230"></a>00230 <span class="preprocessor">    })</span>
<a name="l00231"></a>00231 <span class="preprocessor"></span><span class="preprocessor">#   endif  </span><span class="comment">/* OPT_ACCURACY */</span>
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 <span class="preprocessor">#   if defined(OPT_ACCURACY)</span>
<a name="l00234"></a>00234 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00235"></a>00235 <span class="comment"> * Surprisingly, this is faster than SHRD followed by ADC.</span>
<a name="l00236"></a>00236 <span class="comment"> */</span>
<a name="l00237"></a>00237 <span class="preprocessor">#    define mad_f_scale64(hi, lo)  \</span>
<a name="l00238"></a>00238 <span class="preprocessor">    ({ mad_fixed64hi_t __hi_;  \</span>
<a name="l00239"></a>00239 <span class="preprocessor">       mad_fixed64lo_t __lo_;  \</span>
<a name="l00240"></a>00240 <span class="preprocessor">       mad_fixed_t __result;  \</span>
<a name="l00241"></a>00241 <span class="preprocessor">       asm ("addl %4,%2\n\t"  \</span>
<a name="l00242"></a>00242 <span class="preprocessor">       "adcl %5,%3"  \</span>
<a name="l00243"></a>00243 <span class="preprocessor">       : "=rm" (__lo_), "=rm" (__hi_)  \</span>
<a name="l00244"></a>00244 <span class="preprocessor">       : "0" (lo), "1" (hi),  \</span>
<a name="l00245"></a>00245 <span class="preprocessor">         "ir" (1L &lt;&lt; (MAD_F_SCALEBITS - 1)), "ir" (0)  \</span>
<a name="l00246"></a>00246 <span class="preprocessor">       : "cc");  \</span>
<a name="l00247"></a>00247 <span class="preprocessor">       asm ("shrdl %3,%2,%1"  \</span>
<a name="l00248"></a><a class="code" href="mad_8h.html#836fb7fa861debac4b5fb4b1013ff309">00248</a> <span class="preprocessor">       : "=rm" (__result)  \</span>
<a name="l00249"></a>00249 <span class="preprocessor">       : "0" (__lo_), "r" (__hi_), "I" (MAD_F_SCALEBITS)  \</span>
<a name="l00250"></a>00250 <span class="preprocessor">       : "cc");  \</span>
<a name="l00251"></a>00251 <span class="preprocessor">       __result;  \</span>
<a name="l00252"></a>00252 <span class="preprocessor">    })</span>
<a name="l00253"></a>00253 <span class="preprocessor"></span><span class="preprocessor">#   else</span>
<a name="l00254"></a>00254 <span class="preprocessor"></span><span class="preprocessor">#    define mad_f_scale64(hi, lo)  \</span>
<a name="l00255"></a>00255 <span class="preprocessor">    ({ mad_fixed_t __result;  \</span>
<a name="l00256"></a>00256 <span class="preprocessor">       asm ("shrdl %3,%2,%1"  \</span>
<a name="l00257"></a>00257 <span class="preprocessor">       : "=rm" (__result)  \</span>
<a name="l00258"></a><a class="code" href="mad_8h.html#a0356c356ceced040bed036d0b4a2b2e">00258</a> <span class="preprocessor">       : "0" (lo), "r" (hi), "I" (MAD_F_SCALEBITS)  \</span>
<a name="l00259"></a>00259 <span class="preprocessor">       : "cc");  \</span>
<a name="l00260"></a>00260 <span class="preprocessor">       __result;  \</span>
<a name="l00261"></a>00261 <span class="preprocessor">    })</span>
<a name="l00262"></a>00262 <span class="preprocessor"></span><span class="preprocessor">#   endif  </span><span class="comment">/* OPT_ACCURACY */</span>
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 <span class="preprocessor">#   define MAD_F_SCALEBITS  MAD_F_FRACBITS</span>
<a name="l00265"></a>00265 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
<a name="l00266"></a>00266 <span class="preprocessor"></span>
<a name="l00267"></a>00267 <span class="comment">/* --- ARM ----------------------------------------------------------------- */</span>
<a name="l00268"></a>00268 
<a name="l00269"></a>00269 <span class="preprocessor"># elif defined(FPM_ARM)</span>
<a name="l00270"></a>00270 <span class="preprocessor"></span>
<a name="l00271"></a>00271 <span class="comment">/* </span>
<a name="l00272"></a>00272 <span class="comment"> * This ARM V4 version is as accurate as FPM_64BIT but much faster. The</span>
<a name="l00273"></a>00273 <span class="comment"> * least significant bit is properly rounded at no CPU cycle cost!</span>
<a name="l00274"></a>00274 <span class="comment"> */</span>
<a name="l00275"></a>00275 <span class="preprocessor"># if 1</span>
<a name="l00276"></a>00276 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00277"></a>00277 <span class="comment"> * There's a bug somewhere, possibly in the compiler, that sometimes makes</span>
<a name="l00278"></a>00278 <span class="comment"> * this necessary instead of the default implementation via MAD_F_MLX and</span>
<a name="l00279"></a>00279 <span class="comment"> * mad_f_scale64. It may be related to the use (or lack) of</span>
<a name="l00280"></a>00280 <span class="comment"> * -finline-functions and/or -fstrength-reduce.</span>
<a name="l00281"></a>00281 <span class="comment"> *</span>
<a name="l00282"></a>00282 <span class="comment"> * This is also apparently faster than MAD_F_MLX/mad_f_scale64.</span>
<a name="l00283"></a>00283 <span class="comment"> */</span>
<a name="l00284"></a>00284 <span class="preprocessor">#  define mad_f_mul(x, y)  \</span>
<a name="l00285"></a>00285 <span class="preprocessor">    ({ mad_fixed64hi_t __hi;  \</span>
<a name="l00286"></a>00286 <span class="preprocessor">       mad_fixed64lo_t __lo;  \</span>
<a name="l00287"></a>00287 <span class="preprocessor">       mad_fixed_t __result;  \</span>
<a name="l00288"></a>00288 <span class="preprocessor">       asm ("smull   %0, %1, %3, %4\n\t"  \</span>
<a name="l00289"></a>00289 <span class="preprocessor">       "movs   %0, %0, lsr %5\n\t"  \</span>
<a name="l00290"></a>00290 <span class="preprocessor">       "adc %2, %0, %1, lsl %6"  \</span>
<a name="l00291"></a>00291 <span class="preprocessor">       : "=&amp;r" (__lo), "=&amp;r" (__hi), "=r" (__result)  \</span>
<a name="l00292"></a>00292 <span class="preprocessor">       : "%r" (x), "r" (y),  \</span>
<a name="l00293"></a>00293 <span class="preprocessor">         "M" (MAD_F_SCALEBITS), "M" (32 - MAD_F_SCALEBITS)  \</span>
<a name="l00294"></a>00294 <span class="preprocessor">       : "cc");  \</span>
<a name="l00295"></a>00295 <span class="preprocessor">       __result;  \</span>
<a name="l00296"></a>00296 <span class="preprocessor">    })</span>
<a name="l00297"></a>00297 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00298"></a>00298 <span class="preprocessor"></span>
<a name="l00299"></a>00299 <span class="preprocessor">#  define MAD_F_MLX(hi, lo, x, y)  \</span>
<a name="l00300"></a>00300 <span class="preprocessor">    asm ("smull   %0, %1, %2, %3"  \</span>
<a name="l00301"></a>00301 <span class="preprocessor">    : "=&amp;r" (lo), "=&amp;r" (hi)  \</span>
<a name="l00302"></a>00302 <span class="preprocessor">    : "%r" (x), "r" (y))</span>
<a name="l00303"></a>00303 <span class="preprocessor"></span>
<a name="l00304"></a>00304 <span class="preprocessor">#  define MAD_F_MLA(hi, lo, x, y)  \</span>
<a name="l00305"></a>00305 <span class="preprocessor">    asm ("smlal   %0, %1, %2, %3"  \</span>
<a name="l00306"></a>00306 <span class="preprocessor">    : "+r" (lo), "+r" (hi)  \</span>
<a name="l00307"></a>00307 <span class="preprocessor">    : "%r" (x), "r" (y))</span>
<a name="l00308"></a>00308 <span class="preprocessor"></span>
<a name="l00309"></a>00309 <span class="preprocessor">#  define MAD_F_MLN(hi, lo)  \</span>
<a name="l00310"></a>00310 <span class="preprocessor">    asm ("rsbs %0, %2, #0\n\t"  \</span>
<a name="l00311"></a>00311 <span class="preprocessor">    "rsc %1, %3, #0"  \</span>
<a name="l00312"></a>00312 <span class="preprocessor">    : "=r" (lo), "=r" (hi)  \</span>
<a name="l00313"></a>00313 <span class="preprocessor">    : "0" (lo), "1" (hi)  \</span>
<a name="l00314"></a>00314 <span class="preprocessor">    : "cc")</span>
<a name="l00315"></a>00315 <span class="preprocessor"></span>
<a name="l00316"></a>00316 <span class="preprocessor">#  define mad_f_scale64(hi, lo)  \</span>
<a name="l00317"></a>00317 <span class="preprocessor">    ({ mad_fixed_t __result;  \</span>
<a name="l00318"></a>00318 <span class="preprocessor">       asm ("movs %0, %1, lsr %3\n\t"  \</span>
<a name="l00319"></a>00319 <span class="preprocessor">       "adc %0, %0, %2, lsl %4"  \</span>
<a name="l00320"></a>00320 <span class="preprocessor">       : "=r" (__result)  \</span>
<a name="l00321"></a>00321 <span class="preprocessor">       : "r" (lo), "r" (hi),  \</span>
<a name="l00322"></a>00322 <span class="preprocessor">         "M" (MAD_F_SCALEBITS), "M" (32 - MAD_F_SCALEBITS)  \</span>
<a name="l00323"></a>00323 <span class="preprocessor">       : "cc");  \</span>
<a name="l00324"></a>00324 <span class="preprocessor">       __result;  \</span>
<a name="l00325"></a>00325 <span class="preprocessor">    })</span>
<a name="l00326"></a>00326 <span class="preprocessor"></span>
<a name="l00327"></a>00327 <span class="preprocessor">#  define MAD_F_SCALEBITS  MAD_F_FRACBITS</span>
<a name="l00328"></a>00328 <span class="preprocessor"></span>
<a name="l00329"></a>00329 <span class="comment">/* --- MIPS ---------------------------------------------------------------- */</span>
<a name="l00330"></a>00330 
<a name="l00331"></a>00331 <span class="preprocessor"># elif defined(FPM_MIPS)</span>
<a name="l00332"></a>00332 <span class="preprocessor"></span>
<a name="l00333"></a>00333 <span class="comment">/*</span>
<a name="l00334"></a>00334 <span class="comment"> * This MIPS version is fast and accurate; the disposition of the least</span>
<a name="l00335"></a>00335 <span class="comment"> * significant bit depends on OPT_ACCURACY via mad_f_scale64().</span>
<a name="l00336"></a>00336 <span class="comment"> */</span>
<a name="l00337"></a>00337 <span class="preprocessor">#  define MAD_F_MLX(hi, lo, x, y)  \</span>
<a name="l00338"></a>00338 <span class="preprocessor">    asm ("mult %2,%3"  \</span>
<a name="l00339"></a>00339 <span class="preprocessor">    : "=l" (lo), "=h" (hi)  \</span>
<a name="l00340"></a>00340 <span class="preprocessor">    : "%r" (x), "r" (y))</span>
<a name="l00341"></a>00341 <span class="preprocessor"></span>
<a name="l00342"></a>00342 <span class="preprocessor"># if defined(HAVE_MADD_ASM)</span>
<a name="l00343"></a>00343 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_MLA(hi, lo, x, y)  \</span>
<a name="l00344"></a>00344 <span class="preprocessor">    asm ("madd %2,%3"  \</span>
<a name="l00345"></a>00345 <span class="preprocessor">    : "+l" (lo), "+h" (hi)  \</span>
<a name="l00346"></a>00346 <span class="preprocessor">    : "%r" (x), "r" (y))</span>
<a name="l00347"></a>00347 <span class="preprocessor"></span><span class="preprocessor"># elif defined(HAVE_MADD16_ASM)</span>
<a name="l00348"></a>00348 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00349"></a>00349 <span class="comment"> * This loses significant accuracy due to the 16-bit integer limit in the</span>
<a name="l00350"></a>00350 <span class="comment"> * multiply/accumulate instruction.</span>
<a name="l00351"></a>00351 <span class="comment"> */</span>
<a name="l00352"></a>00352 <span class="preprocessor">#  define MAD_F_ML0(hi, lo, x, y)  \</span>
<a name="l00353"></a>00353 <span class="preprocessor">    asm ("mult %2,%3"  \</span>
<a name="l00354"></a>00354 <span class="preprocessor">    : "=l" (lo), "=h" (hi)  \</span>
<a name="l00355"></a>00355 <span class="preprocessor">    : "%r" ((x) &gt;&gt; 12), "r" ((y) &gt;&gt; 16))</span>
<a name="l00356"></a>00356 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_MLA(hi, lo, x, y)  \</span>
<a name="l00357"></a>00357 <span class="preprocessor">    asm ("madd16  %2,%3"  \</span>
<a name="l00358"></a>00358 <span class="preprocessor">    : "+l" (lo), "+h" (hi)  \</span>
<a name="l00359"></a>00359 <span class="preprocessor">    : "%r" ((x) &gt;&gt; 12), "r" ((y) &gt;&gt; 16))</span>
<a name="l00360"></a>00360 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_MLZ(hi, lo)  ((mad_fixed_t) (lo))</span>
<a name="l00361"></a>00361 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00362"></a>00362 <span class="preprocessor"></span>
<a name="l00363"></a>00363 <span class="preprocessor"># if defined(OPT_SPEED)</span>
<a name="l00364"></a>00364 <span class="preprocessor"></span><span class="preprocessor">#  define mad_f_scale64(hi, lo)  \</span>
<a name="l00365"></a>00365 <span class="preprocessor">    ((mad_fixed_t) ((hi) &lt;&lt; (32 - MAD_F_SCALEBITS)))</span>
<a name="l00366"></a>00366 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_SCALEBITS  MAD_F_FRACBITS</span>
<a name="l00367"></a>00367 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00368"></a>00368 <span class="preprocessor"></span>
<a name="l00369"></a>00369 <span class="comment">/* --- SPARC --------------------------------------------------------------- */</span>
<a name="l00370"></a>00370 
<a name="l00371"></a>00371 <span class="preprocessor"># elif defined(FPM_SPARC)</span>
<a name="l00372"></a>00372 <span class="preprocessor"></span>
<a name="l00373"></a>00373 <span class="comment">/*</span>
<a name="l00374"></a>00374 <span class="comment"> * This SPARC V8 version is fast and accurate; the disposition of the least</span>
<a name="l00375"></a>00375 <span class="comment"> * significant bit depends on OPT_ACCURACY via mad_f_scale64().</span>
<a name="l00376"></a>00376 <span class="comment"> */</span>
<a name="l00377"></a>00377 <span class="preprocessor">#  define MAD_F_MLX(hi, lo, x, y)  \</span>
<a name="l00378"></a>00378 <span class="preprocessor">    asm ("smul %2, %3, %0\n\t"  \</span>
<a name="l00379"></a>00379 <span class="preprocessor">    "rd %%y, %1"  \</span>
<a name="l00380"></a>00380 <span class="preprocessor">    : "=r" (lo), "=r" (hi)  \</span>
<a name="l00381"></a>00381 <span class="preprocessor">    : "%r" (x), "rI" (y))</span>
<a name="l00382"></a>00382 <span class="preprocessor"></span>
<a name="l00383"></a>00383 <span class="comment">/* --- PowerPC ------------------------------------------------------------- */</span>
<a name="l00384"></a>00384 
<a name="l00385"></a>00385 <span class="preprocessor"># elif defined(FPM_PPC)</span>
<a name="l00386"></a>00386 <span class="preprocessor"></span>
<a name="l00387"></a>00387 <span class="comment">/*</span>
<a name="l00388"></a>00388 <span class="comment"> * This PowerPC version is tuned for the 4xx embedded processors. It is</span>
<a name="l00389"></a>00389 <span class="comment"> * effectively a tuned version of FPM_64BIT. It is a little faster and just</span>
<a name="l00390"></a>00390 <span class="comment"> * as accurate. The disposition of the least significant bit depends on</span>
<a name="l00391"></a>00391 <span class="comment"> * OPT_ACCURACY via mad_f_scale64().</span>
<a name="l00392"></a>00392 <span class="comment"> */</span>
<a name="l00393"></a>00393 <span class="preprocessor">#  define MAD_F_MLX(hi, lo, x, y)  \</span>
<a name="l00394"></a>00394 <span class="preprocessor">    asm ("mulhw %1, %2, %3\n\t"  \</span>
<a name="l00395"></a>00395 <span class="preprocessor">    "mullw %0, %2, %3"  \</span>
<a name="l00396"></a>00396 <span class="preprocessor">    : "=&amp;r" (lo), "=&amp;r" (hi)  \</span>
<a name="l00397"></a>00397 <span class="preprocessor">    : "%r" (x), "r" (y))</span>
<a name="l00398"></a>00398 <span class="preprocessor"></span>
<a name="l00399"></a>00399 <span class="preprocessor">#  define MAD_F_MLA(hi, lo, x, y)  \</span>
<a name="l00400"></a>00400 <span class="preprocessor">    ({ mad_fixed64hi_t __hi;  \</span>
<a name="l00401"></a>00401 <span class="preprocessor">       mad_fixed64lo_t __lo;  \</span>
<a name="l00402"></a>00402 <span class="preprocessor">       MAD_F_MLX(__hi, __lo, (x), (y));  \</span>
<a name="l00403"></a>00403 <span class="preprocessor">       asm ("addc %0, %2, %3\n\t"  \</span>
<a name="l00404"></a>00404 <span class="preprocessor">       "adde %1, %4, %5"  \</span>
<a name="l00405"></a>00405 <span class="preprocessor">       : "=r" (lo), "=r" (hi)  \</span>
<a name="l00406"></a>00406 <span class="preprocessor">       : "%r" (__lo), "0" (lo), "%r" (__hi), "1" (hi));  \</span>
<a name="l00407"></a>00407 <span class="preprocessor">    })</span>
<a name="l00408"></a>00408 <span class="preprocessor"></span>
<a name="l00409"></a>00409 <span class="preprocessor">#  if defined(OPT_ACCURACY)</span>
<a name="l00410"></a>00410 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00411"></a>00411 <span class="comment"> * This is accurate and ~2 - 2.5 times slower than the unrounded version.</span>
<a name="l00412"></a>00412 <span class="comment"> *</span>
<a name="l00413"></a>00413 <span class="comment"> * The __volatile__ improves the generated code by another 5% (fewer spills</span>
<a name="l00414"></a>00414 <span class="comment"> * to memory); eventually they should be removed.</span>
<a name="l00415"></a>00415 <span class="comment"> */</span>
<a name="l00416"></a>00416 <span class="preprocessor">#   define mad_f_scale64(hi, lo)  \</span>
<a name="l00417"></a>00417 <span class="preprocessor">    ({ mad_fixed_t __result;  \</span>
<a name="l00418"></a>00418 <span class="preprocessor">       mad_fixed64hi_t __hi_;  \</span>
<a name="l00419"></a>00419 <span class="preprocessor">       mad_fixed64lo_t __lo_;  \</span>
<a name="l00420"></a>00420 <span class="preprocessor">       asm __volatile__ ("addc %0, %2, %4\n\t"  \</span>
<a name="l00421"></a>00421 <span class="preprocessor">          "addze %1, %3"  \</span>
<a name="l00422"></a>00422 <span class="preprocessor">       : "=r" (__lo_), "=r" (__hi_)  \</span>
<a name="l00423"></a>00423 <span class="preprocessor">       : "r" (lo), "r" (hi), "r" (1 &lt;&lt; (MAD_F_SCALEBITS - 1)));  \</span>
<a name="l00424"></a>00424 <span class="preprocessor">       asm __volatile__ ("rlwinm %0, %2,32-%3,0,%3-1\n\t"  \</span>
<a name="l00425"></a>00425 <span class="preprocessor">          "rlwimi %0, %1,32-%3,%3,31"  \</span>
<a name="l00426"></a>00426 <span class="preprocessor">       : "=&amp;r" (__result)  \</span>
<a name="l00427"></a>00427 <span class="preprocessor">       : "r" (__lo_), "r" (__hi_), "I" (MAD_F_SCALEBITS));  \</span>
<a name="l00428"></a>00428 <span class="preprocessor">       __result;  \</span>
<a name="l00429"></a>00429 <span class="preprocessor">    })</span>
<a name="l00430"></a>00430 <span class="preprocessor"></span><span class="preprocessor">#  else</span>
<a name="l00431"></a>00431 <span class="preprocessor"></span><span class="preprocessor">#   define mad_f_scale64(hi, lo)  \</span>
<a name="l00432"></a>00432 <span class="preprocessor">    ({ mad_fixed_t __result;  \</span>
<a name="l00433"></a>00433 <span class="preprocessor">       asm ("rlwinm %0, %2,32-%3,0,%3-1\n\t"  \</span>
<a name="l00434"></a>00434 <span class="preprocessor">       "rlwimi %0, %1,32-%3,%3,31"  \</span>
<a name="l00435"></a>00435 <span class="preprocessor">       : "=r" (__result)  \</span>
<a name="l00436"></a>00436 <span class="preprocessor">       : "r" (lo), "r" (hi), "I" (MAD_F_SCALEBITS));  \</span>
<a name="l00437"></a>00437 <span class="preprocessor">       __result;  \</span>
<a name="l00438"></a>00438 <span class="preprocessor">    })</span>
<a name="l00439"></a>00439 <span class="preprocessor"></span><span class="preprocessor">#  endif  </span><span class="comment">/* OPT_ACCURACY */</span>
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 <span class="preprocessor">#  define MAD_F_SCALEBITS  MAD_F_FRACBITS</span>
<a name="l00442"></a>00442 <span class="preprocessor"></span>
<a name="l00443"></a>00443 <span class="comment">/* --- Default ------------------------------------------------------------- */</span>
<a name="l00444"></a>00444 
<a name="l00445"></a>00445 <span class="preprocessor"># elif defined(FPM_DEFAULT)</span>
<a name="l00446"></a>00446 <span class="preprocessor"></span>
<a name="l00447"></a>00447 <span class="comment">/*</span>
<a name="l00448"></a><a class="code" href="mad_8h.html#c424f0a810aae505036e63103f4a25af">00448</a> <span class="comment"> * This version is the most portable but it loses significant accuracy.</span>
<a name="l00449"></a>00449 <span class="comment"> * Furthermore, accuracy is biased against the second argument, so care</span>
<a name="l00450"></a>00450 <span class="comment"> * should be taken when ordering operands.</span>
<a name="l00451"></a>00451 <span class="comment"> *</span>
<a name="l00452"></a>00452 <span class="comment"> * The scale factors are constant as this is not used with SSO.</span>
<a name="l00453"></a>00453 <span class="comment"> *</span>
<a name="l00454"></a>00454 <span class="comment"> * Pre-rounding is required to stay within the limits of compliance.</span>
<a name="l00455"></a>00455 <span class="comment"> */</span>
<a name="l00456"></a>00456 <span class="preprocessor">#  if defined(OPT_SPEED)</span>
<a name="l00457"></a><a class="code" href="mad_8h.html#d700e5599dd11accc3128356e2d975e8">00457</a> <span class="preprocessor"></span><span class="preprocessor">#   define mad_f_mul(x, y) (((x) &gt;&gt; 12) * ((y) &gt;&gt; 16))</span>
<a name="l00458"></a><a class="code" href="mad_8h.html#770cce15186c32f6214d9dfcf6b79908">00458</a> <span class="preprocessor"></span><span class="preprocessor">#  else</span>
<a name="l00459"></a><a class="code" href="mad_8h.html#1ba57ecda7d303598c01041d47e5ddcb">00459</a> <span class="preprocessor"></span><span class="preprocessor">#   define mad_f_mul(x, y) ((((x) + (1L &lt;&lt; 11)) &gt;&gt; 12) *  \</span>
<a name="l00460"></a><a class="code" href="mad_8h.html#53482b2abc4dd4c38e03713e6ca100fd">00460</a> <span class="preprocessor">             (((y) + (1L &lt;&lt; 15)) &gt;&gt; 16))</span>
<a name="l00461"></a>00461 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
<a name="l00462"></a>00462 <span class="preprocessor"></span>
<a name="l00463"></a>00463 <span class="comment">/* ------------------------------------------------------------------------- */</span>
<a name="l00464"></a>00464 
<a name="l00465"></a>00465 <span class="preprocessor"># else</span>
<a name="l00466"></a>00466 <span class="preprocessor"></span><span class="preprocessor">#  error "no FPM selected"</span>
<a name="l00467"></a>00467 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00468"></a>00468 <span class="preprocessor"></span>
<a name="l00469"></a>00469 <span class="comment">/* default implementations */</span>
<a name="l00470"></a>00470 
<a name="l00471"></a>00471 <span class="preprocessor"># if !defined(mad_f_mul)</span>
<a name="l00472"></a>00472 <span class="preprocessor"></span><span class="preprocessor">#  define mad_f_mul(x, y)  \</span>
<a name="l00473"></a>00473 <span class="preprocessor">    ({ mad_fixed64hi_t __hi;  \</span>
<a name="l00474"></a>00474 <span class="preprocessor">       mad_fixed64lo_t __lo;  \</span>
<a name="l00475"></a>00475 <span class="preprocessor">       MAD_F_MLX(__hi, __lo, (x), (y));  \</span>
<a name="l00476"></a>00476 <span class="preprocessor">       mad_f_scale64(__hi, __lo);  \</span>
<a name="l00477"></a>00477 <span class="preprocessor">    })</span>
<a name="l00478"></a>00478 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00479"></a>00479 <span class="preprocessor"></span>
<a name="l00480"></a>00480 <span class="preprocessor"># if !defined(MAD_F_MLA)</span>
<a name="l00481"></a>00481 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_ML0(hi, lo, x, y)   ((lo)  = mad_f_mul((x), (y)))</span>
<a name="l00482"></a>00482 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_MLA(hi, lo, x, y)   ((lo) += mad_f_mul((x), (y)))</span>
<a name="l00483"></a>00483 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_MLN(hi, lo)      ((lo)  = -(lo))</span>
<a name="l00484"></a>00484 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_MLZ(hi, lo)      ((void) (hi), (mad_fixed_t) (lo))</span>
<a name="l00485"></a>00485 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00486"></a>00486 <span class="preprocessor"></span>
<a name="l00487"></a>00487 <span class="preprocessor"># if !defined(MAD_F_ML0)</span>
<a name="l00488"></a>00488 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_ML0(hi, lo, x, y)   MAD_F_MLX((hi), (lo), (x), (y))</span>
<a name="l00489"></a>00489 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00490"></a>00490 <span class="preprocessor"></span>
<a name="l00491"></a>00491 <span class="preprocessor"># if !defined(MAD_F_MLN)</span>
<a name="l00492"></a>00492 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_MLN(hi, lo)      ((hi) = ((lo) = -(lo)) ? ~(hi) : -(hi))</span>
<a name="l00493"></a>00493 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00494"></a>00494 <span class="preprocessor"></span>
<a name="l00495"></a>00495 <span class="preprocessor"># if !defined(MAD_F_MLZ)</span>
<a name="l00496"></a>00496 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_MLZ(hi, lo)      mad_f_scale64((hi), (lo))</span>
<a name="l00497"></a>00497 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00498"></a>00498 <span class="preprocessor"></span>
<a name="l00499"></a>00499 <span class="preprocessor"># if !defined(mad_f_scale64)</span>
<a name="l00500"></a>00500 <span class="preprocessor"></span><span class="preprocessor">#  if defined(OPT_ACCURACY)</span>
<a name="l00501"></a><a class="code" href="structmad__bitptr.html">00501</a> <span class="preprocessor"></span><span class="preprocessor">#   define mad_f_scale64(hi, lo)  \</span>
<a name="l00502"></a><a class="code" href="structmad__bitptr.html#01a1aaea0f8124da7f62e3e9457fef2a">00502</a> <span class="preprocessor">    ((((mad_fixed_t)  \</span>
<a name="l00503"></a><a class="code" href="structmad__bitptr.html#175b8ed6a6b78c10d3fdbefe6b31efcc">00503</a> <span class="preprocessor">       (((hi) &lt;&lt; (32 - (MAD_F_SCALEBITS - 1))) |  \</span>
<a name="l00504"></a><a class="code" href="structmad__bitptr.html#de0841b075cdd7a3285e1bd803ef8b95">00504</a> <span class="preprocessor">   ((lo) &gt;&gt; (MAD_F_SCALEBITS - 1)))) + 1) &gt;&gt; 1)</span>
<a name="l00505"></a>00505 <span class="preprocessor"></span><span class="preprocessor">#  else</span>
<a name="l00506"></a>00506 <span class="preprocessor"></span><span class="preprocessor">#   define mad_f_scale64(hi, lo)  \</span>
<a name="l00507"></a>00507 <span class="preprocessor">    ((mad_fixed_t)  \</span>
<a name="l00508"></a>00508 <span class="preprocessor">     (((hi) &lt;&lt; (32 - MAD_F_SCALEBITS)) |  \</span>
<a name="l00509"></a><a class="code" href="mad_8h.html#b291aa2e85bda4a9b9fba0e86cdd4dbd">00509</a> <span class="preprocessor">      ((lo) &gt;&gt; MAD_F_SCALEBITS)))</span>
<a name="l00510"></a>00510 <span class="preprocessor"></span><span class="preprocessor">#  endif</span>
<a name="l00511"></a>00511 <span class="preprocessor"></span><span class="preprocessor">#  define MAD_F_SCALEBITS  MAD_F_FRACBITS</span>
<a name="l00512"></a>00512 <span class="preprocessor"></span><span class="preprocessor"># endif</span>
<a name="l00513"></a>00513 <span class="preprocessor"></span>
<a name="l00514"></a><a class="code" href="mad_8h.html#c64e420be7f614aa0b389fb754fbcd16">00514</a> <span class="comment">/* miscellaneous C routines */</span>
<a name="l00515"></a>00515 
<a name="l00516"></a>00516 mad_fixed_t <a class="code" href="mad_8h.html#466c2db0842244c4f7770db941c56029">mad_f_abs</a>(mad_fixed_t);
<a name="l00517"></a>00517 
<a name="l00518"></a>00518 <span class="preprocessor"># endif</span>
<a name="l00519"></a>00519 <span class="preprocessor"></span>
<a name="l00520"></a>00520 <span class="comment">/* Id: bit.h,v 1.1.1.2 2001/10/20 21:43:32 dmazzoni Exp */</span>
<a name="l00521"></a>00521 
<a name="l00522"></a>00522 <span class="preprocessor"># ifndef LIBMAD_BIT_H</span>
<a name="l00523"></a>00523 <span class="preprocessor"></span><span class="preprocessor"># define LIBMAD_BIT_H</span>
<a name="l00524"></a>00524 <span class="preprocessor"></span>
<a name="l00525"></a>00525 <span class="keyword">struct </span><a class="code" href="structmad__bitptr.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_bitptr</a> {
<a name="l00526"></a>00526   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span> *<a class="code" href="structmad__bitptr.html#01a1aaea0f8124da7f62e3e9457fef2a">byte</a>;
<a name="l00527"></a>00527   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structmad__bitptr.html#175b8ed6a6b78c10d3fdbefe6b31efcc">cache</a>;
<a name="l00528"></a>00528   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structmad__bitptr.html#de0841b075cdd7a3285e1bd803ef8b95">left</a>;
<a name="l00529"></a>00529 };
<a name="l00530"></a><a class="code" href="structmad__timer__t.html">00530</a> 
<a name="l00531"></a><a class="code" href="structmad__timer__t.html#8512befd035c37461be6d8eb094ea76a">00531</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#5cb09e97beb649283dc9de7f35dc0344">mad_bit_init</a>(<span class="keyword">struct</span> <a class="code" href="structmad__bitptr.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_bitptr</a> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span> *);
<a name="l00532"></a><a class="code" href="structmad__timer__t.html#570ebe6a48b525b3f8f9997678dbb782">00532</a> 
<a name="l00533"></a>00533 <span class="preprocessor"># define mad_bit_finish(bitptr)     </span><span class="comment">/* nothing */</span>
<a name="l00534"></a>00534 
<a name="l00535"></a>00535 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="mad_8h.html#5fe08816cab8812f2c67755cd857efde">mad_bit_length</a>(<span class="keyword">struct</span> <a class="code" href="structmad__bitptr.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_bitptr</a> <span class="keyword">const</span> *,
<a name="l00536"></a>00536              <span class="keyword">struct</span> <a class="code" href="structmad__bitptr.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_bitptr</a> <span class="keyword">const</span> *);
<a name="l00537"></a><a class="code" href="mad_8h.html#39dd06ad82d89c1f5d8afde7a46704d7">00537</a> 
<a name="l00538"></a>00538 <span class="preprocessor"># define mad_bit_bitsleft(bitptr)  ((bitptr)-&gt;left)</span>
<a name="l00539"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff">00539</a> <span class="preprocessor"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span> *<a class="code" href="mad_8h.html#9fc6c68afe35a50264107280814c5f43">mad_bit_nextbyte</a>(<span class="keyword">struct</span> <a class="code" href="structmad__bitptr.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_bitptr</a> <span class="keyword">const</span> *);
<a name="l00540"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff7b74630961628530b83829604679c560">00540</a> 
<a name="l00541"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffb2966dc81f082465d20f1ef837af7f04">00541</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#09ebe709118c8ab4c3fc9678c0ce67a6">mad_bit_skip</a>(<span class="keyword">struct</span> <a class="code" href="structmad__bitptr.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_bitptr</a> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>);
<a name="l00542"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffba98b1f3e63a03762642e0a1560fbc33">00542</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="mad_8h.html#691bcc7fa9b862661689da7744c1c0b3">mad_bit_read</a>(<span class="keyword">struct</span> <a class="code" href="structmad__bitptr.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_bitptr</a> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>);
<a name="l00543"></a>00543 <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#489b2b30e963c86f152a25a8036547c6">mad_bit_write</a>(<span class="keyword">struct</span> <a class="code" href="structmad__bitptr.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_bitptr</a> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>);
<a name="l00544"></a>00544 
<a name="l00545"></a>00545 <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="mad_8h.html#3adcbec8bcd4cecfb5ba5ae2d271af2a">mad_bit_crc</a>(<span class="keyword">struct</span> <a class="code" href="structmad__bitptr.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_bitptr</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>);
<a name="l00546"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff30e9eb533140f0d03e2d4ad399632078">00546</a> 
<a name="l00547"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffc9bad4b950ed3380f171dc2a6ebfe855">00547</a> <span class="preprocessor"># endif</span>
<a name="l00548"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffb6809037fccd04fa11566779afc86e92">00548</a> <span class="preprocessor"></span>
<a name="l00549"></a>00549 <span class="comment">/* Id: timer.h,v 1.1.1.2 2001/10/20 21:43:33 dmazzoni Exp */</span>
<a name="l00550"></a>00550 
<a name="l00551"></a>00551 <span class="preprocessor"># ifndef LIBMAD_TIMER_H</span>
<a name="l00552"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff68d2cebf0bb9f840e9532d5e636fba69">00552</a> <span class="preprocessor"></span><span class="preprocessor"># define LIBMAD_TIMER_H</span>
<a name="l00553"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff93ebdaedd1dcdf1ebbeb0d72a00bc6c1">00553</a> <span class="preprocessor"></span>
<a name="l00554"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffe5dd6a80e43d496cde3e11141a971f70">00554</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00555"></a>00555   <span class="keywordtype">signed</span> <span class="keywordtype">long</span> seconds;     <span class="comment">/* whole seconds */</span>
<a name="l00556"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff7342a23bc146f0025ace742223ddbb69">00556</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> fraction;  <span class="comment">/* 1/MAD_TIMER_RESOLUTION seconds */</span>
<a name="l00557"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff556c5dbeca65d783149d91470567b18e">00557</a> } <a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a>;
<a name="l00558"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffcb263d2b951127e159a938beefd9951b">00558</a> 
<a name="l00559"></a>00559 <span class="keyword">extern</span> <a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a> <span class="keyword">const</span> <a class="code" href="mad_8h.html#99b7db3d65e6508fc9952f421c08e6a6">mad_timer_zero</a>;
<a name="l00560"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff66b6f3028993b811d4823c214845739e">00560</a> 
<a name="l00561"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffffc21a3c9883dd404bcea9461710e4ea">00561</a> <span class="preprocessor"># define MAD_TIMER_RESOLUTION 352800000UL</span>
<a name="l00562"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff894677e9e5465c42711c68e2b53f52ab">00562</a> <span class="preprocessor"></span>
<a name="l00563"></a>00563 <span class="keyword">enum</span> <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff">mad_units</a> {
<a name="l00564"></a>00564   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff7b74630961628530b83829604679c560">MAD_UNITS_HOURS</a>  =    -2,
<a name="l00565"></a>00565   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffb2966dc81f082465d20f1ef837af7f04">MAD_UNITS_MINUTES</a>   =    -1,
<a name="l00566"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff6f7dd4757bada4df69f61edd95b6d8a8">00566</a>   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffba98b1f3e63a03762642e0a1560fbc33">MAD_UNITS_SECONDS</a>   =     0,
<a name="l00567"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff543942a87ea180383cebe11467893230">00567</a> 
<a name="l00568"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884ffff6380d74692f7eeec2a9da3fa6d6a61c">00568</a>   <span class="comment">/* metric units */</span>
<a name="l00569"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffdb29d5d4478242d507b0636cca1a3dca">00569</a> 
<a name="l00570"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff8ad6e3dabea29745d758118fbe300a65">00570</a>   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff30e9eb533140f0d03e2d4ad399632078">MAD_UNITS_DECISECONDS</a>  =    10,
<a name="l00571"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffe5acae1582e8bcf54a7b82a040538b9e">00571</a>   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffc9bad4b950ed3380f171dc2a6ebfe855">MAD_UNITS_CENTISECONDS</a> =   100,
<a name="l00572"></a>00572   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffb6809037fccd04fa11566779afc86e92">MAD_UNITS_MILLISECONDS</a> =  1000,
<a name="l00573"></a>00573 
<a name="l00574"></a>00574   <span class="comment">/* audio sample units */</span>
<a name="l00575"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff727986a7918bf3f679f39f0da1951c2c">00575</a> 
<a name="l00576"></a>00576   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff68d2cebf0bb9f840e9532d5e636fba69">MAD_UNITS_8000_HZ</a>   =  8000,
<a name="l00577"></a>00577   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff93ebdaedd1dcdf1ebbeb0d72a00bc6c1">MAD_UNITS_11025_HZ</a>  = 11025,
<a name="l00578"></a>00578   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffe5dd6a80e43d496cde3e11141a971f70">MAD_UNITS_12000_HZ</a>  = 12000,
<a name="l00579"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff9154791d1a62bea10d3192dc5331697a">00579</a> 
<a name="l00580"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884ffff78d4b3c3216f2651f70684a08829673">00580</a>   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff7342a23bc146f0025ace742223ddbb69">MAD_UNITS_16000_HZ</a>  = 16000,
<a name="l00581"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff26a65d9f6b91ea022e366dfeef166b96">00581</a>   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff556c5dbeca65d783149d91470567b18e">MAD_UNITS_22050_HZ</a>  = 22050,
<a name="l00582"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffadbbdc1118ba9bc3dd7e9da8cd7ac0b1">00582</a>   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffcb263d2b951127e159a938beefd9951b">MAD_UNITS_24000_HZ</a>  = 24000,
<a name="l00583"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffa94518c03583e299aac9c85cb726fac4">00583</a> 
<a name="l00584"></a><a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffd96ddca5eaaba6f1bcefc3b15f21cdfe">00584</a>   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff66b6f3028993b811d4823c214845739e">MAD_UNITS_32000_HZ</a>  = 32000,
<a name="l00585"></a>00585   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffffc21a3c9883dd404bcea9461710e4ea">MAD_UNITS_44100_HZ</a>  = 44100,
<a name="l00586"></a>00586   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff894677e9e5465c42711c68e2b53f52ab">MAD_UNITS_48000_HZ</a>  = 48000,
<a name="l00587"></a><a class="code" href="mad_8h.html#5ce5b3739e047f22f6d4bc601a7c1b1e">00587</a> 
<a name="l00588"></a>00588   <span class="comment">/* video frame/field units */</span>
<a name="l00589"></a>00589 
<a name="l00590"></a>00590   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff6f7dd4757bada4df69f61edd95b6d8a8">MAD_UNITS_24_FPS</a>    =    24,
<a name="l00591"></a><a class="code" href="mad_8h.html#f3935d9200d773c9e3fd4aab37bc0f01">00591</a>   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff543942a87ea180383cebe11467893230">MAD_UNITS_25_FPS</a>    =    25,
<a name="l00592"></a>00592   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884ffff6380d74692f7eeec2a9da3fa6d6a61c">MAD_UNITS_30_FPS</a>    =    30,
<a name="l00593"></a>00593   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffdb29d5d4478242d507b0636cca1a3dca">MAD_UNITS_48_FPS</a>    =    48,
<a name="l00594"></a>00594   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff8ad6e3dabea29745d758118fbe300a65">MAD_UNITS_50_FPS</a>    =    50,
<a name="l00595"></a>00595   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffe5acae1582e8bcf54a7b82a040538b9e">MAD_UNITS_60_FPS</a>    =    60,
<a name="l00596"></a>00596 
<a name="l00597"></a>00597   <span class="comment">/* CD audio frames */</span>
<a name="l00598"></a>00598 
<a name="l00599"></a>00599   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff727986a7918bf3f679f39f0da1951c2c">MAD_UNITS_75_FPS</a>    =    75,
<a name="l00600"></a>00600 
<a name="l00601"></a>00601   <span class="comment">/* video drop-frame units */</span>
<a name="l00602"></a>00602 
<a name="l00603"></a>00603   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff9154791d1a62bea10d3192dc5331697a">MAD_UNITS_23_976_FPS</a>   =   -24,
<a name="l00604"></a>00604   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884ffff78d4b3c3216f2651f70684a08829673">MAD_UNITS_24_975_FPS</a>   =   -25,
<a name="l00605"></a>00605   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff26a65d9f6b91ea022e366dfeef166b96">MAD_UNITS_29_97_FPS</a>    =   -30,
<a name="l00606"></a>00606   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffadbbdc1118ba9bc3dd7e9da8cd7ac0b1">MAD_UNITS_47_952_FPS</a>   =   -48,
<a name="l00607"></a>00607   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffa94518c03583e299aac9c85cb726fac4">MAD_UNITS_49_95_FPS</a>    =   -50,
<a name="l00608"></a>00608   <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fffd96ddca5eaaba6f1bcefc3b15f21cdfe">MAD_UNITS_59_94_FPS</a>    =   -60
<a name="l00609"></a>00609 };
<a name="l00610"></a>00610 
<a name="l00611"></a>00611 <span class="preprocessor"># define mad_timer_reset(timer)  (*(timer) = mad_timer_zero)</span>
<a name="l00612"></a><a class="code" href="mad_8h.html#39eef28d796acc4a186bb06e1171f882">00612</a> <span class="preprocessor"></span>
<a name="l00613"></a><a class="code" href="mad_8h.html#7fe89b4455f663f7932945241f1e4924">00613</a> <span class="keywordtype">int</span> <a class="code" href="mad_8h.html#f3b4aae92a345192ac505a06d078a4f3">mad_timer_compare</a>(<a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a>, <a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a>);
<a name="l00614"></a>00614 
<a name="l00615"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df">00615</a> <span class="preprocessor"># define mad_timer_sign(timer)   mad_timer_compare((timer), mad_timer_zero)</span>
<a name="l00616"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dfacda66fa6ae5e8a953ef1a4a9ea90319">00616</a> <span class="preprocessor"></span>
<a name="l00617"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df784e0bae3549783d321b0701c25d9860">00617</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#eb441a3c0136757d7fcea625fc4787ed">mad_timer_negate</a>(<a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a> *);
<a name="l00618"></a>00618 <a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a> <a class="code" href="mad_8h.html#834ec927737bc74efc6ab49ce7b6d767">mad_timer_abs</a>(<a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a>);
<a name="l00619"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dfcdb2dc334adee2b274d367ea4f4e452f">00619</a> 
<a name="l00620"></a>00620 <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#27bfecee054e0d86ce736cdb129a6531">mad_timer_set</a>(<a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>);
<a name="l00621"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dffaf0f360cb3d728085d86abaa39a67a8">00621</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#15f3a8890f8949bd9ab972b2bb53a747">mad_timer_add</a>(<a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a> *, <a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a>);
<a name="l00622"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df5fa12043a1626a60761a0740de5c40b9">00622</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#8949ad8ca853994283663d9e6fec06e9">mad_timer_multiply</a>(<a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a> *, <span class="keywordtype">signed</span> <span class="keywordtype">long</span>);
<a name="l00623"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df44ec86353ebd317806d0ae3d6a7448de">00623</a> 
<a name="l00624"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df5941bcb25e752771be4bcdbfcd63ed31">00624</a> <span class="keywordtype">signed</span> <span class="keywordtype">long</span> <a class="code" href="mad_8h.html#c145e00368b6f5c220e4b46b993e48dd">mad_timer_count</a>(<a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a>, <span class="keyword">enum</span> <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff">mad_units</a>);
<a name="l00625"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dff544c615ce2fea480cbb8b4acf1c9f9f">00625</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="mad_8h.html#f1de1e98b27802f56d48d54f108305e2">mad_timer_fraction</a>(<a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>);
<a name="l00626"></a>00626 <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#2c7c6843a26c88347659c9c58c6c5f58">mad_timer_string</a>(<a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a>, <span class="keywordtype">char</span> *, <span class="keywordtype">char</span> <span class="keyword">const</span> *,
<a name="l00627"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df700b1dd168a779097fea06e378353aee">00627</a>             <span class="keyword">enum</span> <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff">mad_units</a>, <span class="keyword">enum</span> <a class="code" href="mad_8h.html#8b5cf795da949ab23ac909021d884fff">mad_units</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>);
<a name="l00628"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df481daf8bff25297756cf8083c1b7204c">00628</a> 
<a name="l00629"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df0191e0cbfad382296da168f532cc648e">00629</a> <span class="preprocessor"># endif</span>
<a name="l00630"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df70ce9e2c96815d5ba25e2588ab133d80">00630</a> <span class="preprocessor"></span>
<a name="l00631"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df53524f8eea114c1e2edd5b08e68ed6d7">00631</a> <span class="comment">/* Id: stream.h,v 1.1.1.2 2001/10/20 21:43:33 dmazzoni Exp */</span>
<a name="l00632"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df2e30422b726917ebd4697e42120f4312">00632</a> 
<a name="l00633"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df3a27cf65b7f2b64650c04e432c375cdf">00633</a> <span class="preprocessor"># ifndef LIBMAD_STREAM_H</span>
<a name="l00634"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dfdafc751810ef5837b1fcb34c484da7a5">00634</a> <span class="preprocessor"></span><span class="preprocessor"># define LIBMAD_STREAM_H</span>
<a name="l00635"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dff2da40b3a6b3cf4ff232c0ea466f35ae">00635</a> <span class="preprocessor"></span>
<a name="l00636"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df915f2cb4062ad0fac9099a5ddb7dfb9d">00636</a> <span class="preprocessor"># define MAD_BUFFER_GUARD  8</span>
<a name="l00637"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df36526bab1fa48954923abac3b2b1cab6">00637</a> <span class="preprocessor"></span><span class="preprocessor"># define MAD_BUFFER_MDLEN  (511 + 2048 + MAD_BUFFER_GUARD)</span>
<a name="l00638"></a><a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df4672ab1a90681a9baf435d6f25e91508">00638</a> <span class="preprocessor"></span>
<a name="l00639"></a>00639 <span class="keyword">enum</span> <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df">mad_error</a> {
<a name="l00640"></a>00640   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dfacda66fa6ae5e8a953ef1a4a9ea90319">MAD_ERROR_BUFLEN</a>      = 0x0001,   <span class="comment">/* input buffer too small (or EOF) */</span>
<a name="l00641"></a><a class="code" href="mad_8h.html#e8609d0ec1b8c5c6ca5743f0dae0c5a9">00641</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df784e0bae3549783d321b0701c25d9860">MAD_ERROR_BUFPTR</a>      = 0x0002,   <span class="comment">/* invalid (null) buffer pointer */</span>
<a name="l00642"></a>00642 
<a name="l00643"></a><a class="code" href="structmad__stream.html">00643</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dfcdb2dc334adee2b274d367ea4f4e452f">MAD_ERROR_NOMEM</a>    = 0x0031,   <span class="comment">/* not enough memory */</span>
<a name="l00644"></a><a class="code" href="structmad__stream.html#bc39e951d41926a1d2cdfb98078b9345">00644</a> 
<a name="l00645"></a><a class="code" href="structmad__stream.html#21da56b9a2f8da03abc3b42d7276ab90">00645</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dffaf0f360cb3d728085d86abaa39a67a8">MAD_ERROR_LOSTSYNC</a>    = 0x0101,   <span class="comment">/* lost synchronization */</span>
<a name="l00646"></a><a class="code" href="structmad__stream.html#380775f9816d642c8de9eb0f80b6ac01">00646</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df5fa12043a1626a60761a0740de5c40b9">MAD_ERROR_BADLAYER</a>    = 0x0102,   <span class="comment">/* reserved header layer value */</span>
<a name="l00647"></a>00647   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df44ec86353ebd317806d0ae3d6a7448de">MAD_ERROR_BADBITRATE</a>     = 0x0103,   <span class="comment">/* forbidden bitrate value */</span>
<a name="l00648"></a><a class="code" href="structmad__stream.html#1f11c60768caff2595ce4c94b1172d5a">00648</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df5941bcb25e752771be4bcdbfcd63ed31">MAD_ERROR_BADSAMPLERATE</a>  = 0x0104,   <span class="comment">/* reserved sample frequency value */</span>
<a name="l00649"></a><a class="code" href="structmad__stream.html#28a048e98187e7ba0225f76136a1d295">00649</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dff544c615ce2fea480cbb8b4acf1c9f9f">MAD_ERROR_BADEMPHASIS</a>    = 0x0105,   <span class="comment">/* reserved emphasis value */</span>
<a name="l00650"></a>00650 
<a name="l00651"></a><a class="code" href="structmad__stream.html#320b132c5a73c746cd4857f9135fc992">00651</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df700b1dd168a779097fea06e378353aee">MAD_ERROR_BADCRC</a>      = 0x0201,   <span class="comment">/* CRC check failed */</span>
<a name="l00652"></a><a class="code" href="structmad__stream.html#45b59f063eb676a47d9fa0c6f860e701">00652</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df481daf8bff25297756cf8083c1b7204c">MAD_ERROR_BADBITALLOC</a>    = 0x0211,   <span class="comment">/* forbidden bit allocation value */</span>
<a name="l00653"></a><a class="code" href="structmad__stream.html#987cf5a3e8ab950311e7afeda3ef34db">00653</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df0191e0cbfad382296da168f532cc648e">MAD_ERROR_BADSCALEFACTOR</a> = 0x0221,   <span class="comment">/* bad scalefactor index */</span>
<a name="l00654"></a>00654   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df70ce9e2c96815d5ba25e2588ab133d80">MAD_ERROR_BADFRAMELEN</a>    = 0x0231,   <span class="comment">/* bad frame length */</span>
<a name="l00655"></a><a class="code" href="structmad__stream.html#e9e60e90ae0ada3e6b86f323da60b8e9">00655</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df53524f8eea114c1e2edd5b08e68ed6d7">MAD_ERROR_BADBIGVALUES</a>   = 0x0232,   <span class="comment">/* bad big_values count */</span>
<a name="l00656"></a><a class="code" href="structmad__stream.html#9c0f59e34e285be5ef1d188c87f99fe6">00656</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df2e30422b726917ebd4697e42120f4312">MAD_ERROR_BADBLOCKTYPE</a>   = 0x0233,   <span class="comment">/* reserved block_type */</span>
<a name="l00657"></a>00657   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df3a27cf65b7f2b64650c04e432c375cdf">MAD_ERROR_BADSCFSI</a>    = 0x0234,   <span class="comment">/* bad scalefactor selection info */</span>
<a name="l00658"></a><a class="code" href="structmad__stream.html#8e5a352af00a81be208de41989694364">00658</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dfdafc751810ef5837b1fcb34c484da7a5">MAD_ERROR_BADDATAPTR</a>     = 0x0235,   <span class="comment">/* bad main_data_begin pointer */</span>
<a name="l00659"></a>00659   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2dff2da40b3a6b3cf4ff232c0ea466f35ae">MAD_ERROR_BADPART3LEN</a>    = 0x0236,   <span class="comment">/* bad audio data length */</span>
<a name="l00660"></a><a class="code" href="structmad__stream.html#06e0426b821403e0d6f18482793d556e">00660</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df915f2cb4062ad0fac9099a5ddb7dfb9d">MAD_ERROR_BADHUFFTABLE</a>   = 0x0237,   <span class="comment">/* bad Huffman table select */</span>
<a name="l00661"></a>00661   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df36526bab1fa48954923abac3b2b1cab6">MAD_ERROR_BADHUFFDATA</a>    = 0x0238,   <span class="comment">/* Huffman data overrun */</span>
<a name="l00662"></a><a class="code" href="structmad__stream.html#870d5724cee7de5af658c92dfcb48236">00662</a>   <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df4672ab1a90681a9baf435d6f25e91508">MAD_ERROR_BADSTEREO</a>      = 0x0239 <span class="comment">/* incompatible block_type for JS */</span>
<a name="l00663"></a><a class="code" href="structmad__stream.html#c9a8e6b43a422325e581d73d28bb538a">00663</a> };
<a name="l00664"></a>00664 
<a name="l00665"></a>00665 <span class="preprocessor"># define MAD_RECOVERABLE(error)  ((error) &amp; 0xff00)</span>
<a name="l00666"></a>00666 <span class="preprocessor"></span>
<a name="l00667"></a><a class="code" href="mad_8h.html#e4d5251432e1a9e6803c0240cc492e1855c155a5b847fef1b431a46c491cb78d">00667</a> <span class="keyword">struct </span><a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> {
<a name="l00668"></a><a class="code" href="mad_8h.html#e4d5251432e1a9e6803c0240cc492e189507147b6ae495e51ef4a01e161b6234">00668</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span> *<a class="code" href="structmad__stream.html#bc39e951d41926a1d2cdfb98078b9345">buffer</a>;      <span class="comment">/* input bitstream buffer */</span>
<a name="l00669"></a>00669   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span> *<a class="code" href="structmad__stream.html#21da56b9a2f8da03abc3b42d7276ab90">bufend</a>;      <span class="comment">/* end of buffer */</span>
<a name="l00670"></a>00670   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structmad__stream.html#380775f9816d642c8de9eb0f80b6ac01">skiplen</a>;      <span class="comment">/* bytes to skip before next frame */</span>
<a name="l00671"></a>00671 
<a name="l00672"></a>00672   <span class="keywordtype">int</span> <a class="code" href="structmad__stream.html#1f11c60768caff2595ce4c94b1172d5a">sync</a>;          <span class="comment">/* stream sync found */</span>
<a name="l00673"></a>00673   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structmad__stream.html#28a048e98187e7ba0225f76136a1d295">freerate</a>;     <span class="comment">/* free bitrate (fixed) */</span>
<a name="l00674"></a>00674 
<a name="l00675"></a>00675   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span> *<a class="code" href="structmad__stream.html#320b132c5a73c746cd4857f9135fc992">this_frame</a>;  <span class="comment">/* start of current frame */</span>
<a name="l00676"></a>00676   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span> *<a class="code" href="structmad__stream.html#45b59f063eb676a47d9fa0c6f860e701">next_frame</a>;  <span class="comment">/* start of next frame */</span>
<a name="l00677"></a>00677   <span class="keyword">struct </span><a class="code" href="structmad__bitptr.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_bitptr</a> <a class="code" href="structmad__stream.html#987cf5a3e8ab950311e7afeda3ef34db">ptr</a>;      <span class="comment">/* current processing bit pointer */</span>
<a name="l00678"></a>00678 
<a name="l00679"></a><a class="code" href="mad_8h.html#3327b83f5f76e552d637feb3cdbafe63">00679</a>   <span class="keyword">struct </span><a class="code" href="structmad__bitptr.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_bitptr</a> <a class="code" href="structmad__stream.html#e9e60e90ae0ada3e6b86f323da60b8e9">anc_ptr</a>;     <span class="comment">/* ancillary bits pointer */</span>
<a name="l00680"></a>00680   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structmad__stream.html#9c0f59e34e285be5ef1d188c87f99fe6">anc_bitlen</a>;    <span class="comment">/* number of ancillary bits */</span>
<a name="l00681"></a>00681 
<a name="l00682"></a>00682   <span class="keywordtype">unsigned</span> char (*<a class="code" href="structmad__stream.html#8e5a352af00a81be208de41989694364">main_data</a>)[<a class="code" href="mad_8h.html#7fe89b4455f663f7932945241f1e4924">MAD_BUFFER_MDLEN</a>];
<a name="l00683"></a>00683                <span class="comment">/* Layer III main_data() */</span>
<a name="l00684"></a>00684   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structmad__stream.html#06e0426b821403e0d6f18482793d556e">md_len</a>;        <span class="comment">/* bytes in main_data */</span>
<a name="l00685"></a>00685 
<a name="l00686"></a>00686   <span class="keywordtype">int</span> <a class="code" href="structmad__stream.html#870d5724cee7de5af658c92dfcb48236">options</a>;          <span class="comment">/* decoding options (see below) */</span>
<a name="l00687"></a>00687   <span class="keyword">enum</span> <a class="code" href="mad_8h.html#03f249e372a63a329b780307f4e2c2df">mad_error</a> <a class="code" href="structmad__stream.html#c9a8e6b43a422325e581d73d28bb538a">error</a>;       <span class="comment">/* error code (see above) */</span>
<a name="l00688"></a>00688 };
<a name="l00689"></a>00689 
<a name="l00690"></a>00690 <span class="keyword">enum</span> {
<a name="l00691"></a>00691   <a class="code" href="mad_8h.html#e4d5251432e1a9e6803c0240cc492e1855c155a5b847fef1b431a46c491cb78d">MAD_OPTION_IGNORECRC</a>      = 0x0001,  <span class="comment">/* ignore CRC errors */</span>
<a name="l00692"></a>00692   <a class="code" href="mad_8h.html#e4d5251432e1a9e6803c0240cc492e189507147b6ae495e51ef4a01e161b6234">MAD_OPTION_HALFSAMPLERATE</a> = 0x0002,  <span class="comment">/* generate PCM at 1/2 sample rate */</span>
<a name="l00693"></a>00693 <span class="preprocessor"># if 0  </span><span class="comment">/* not yet implemented */</span>
<a name="l00694"></a><a class="code" href="mad_8h.html#bbd9de27e20bcf285c28ee515548d650">00694</a>   MAD_OPTION_LEFTCHANNEL    = 0x0010,  <span class="comment">/* decode left channel only */</span>
<a name="l00695"></a><a class="code" href="mad_8h.html#bbd9de27e20bcf285c28ee515548d650b7cc72d7876cff555f4df5209ab2cf29">00695</a>   MAD_OPTION_RIGHTCHANNEL   = 0x0020,  <span class="comment">/* decode right channel only */</span>
<a name="l00696"></a><a class="code" href="mad_8h.html#bbd9de27e20bcf285c28ee515548d650d09aa3c6f416b6c9cde20c4fc9d9b17c">00696</a>   MAD_OPTION_SINGLECHANNEL  = 0x0030,  <span class="comment">/* combine channels */</span>
<a name="l00697"></a><a class="code" href="mad_8h.html#bbd9de27e20bcf285c28ee515548d650851195f014842ded957735128be78f0f">00697</a> <span class="preprocessor"># endif</span>
<a name="l00698"></a>00698 <span class="preprocessor"></span>};
<a name="l00699"></a>00699 
<a name="l00700"></a><a class="code" href="mad_8h.html#8ea365ef0335b4cb80e1cc78bb00c611">00700</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#73f0fd6d3e3eca8d8413d14c021ccf7e">mad_stream_init</a>(<span class="keyword">struct</span> <a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> *);
<a name="l00701"></a><a class="code" href="mad_8h.html#8ea365ef0335b4cb80e1cc78bb00c6118a219f0550afb3866cdce992ca4b7535">00701</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#1a74f838480c1876a542b0f28e102c3c">mad_stream_finish</a>(<span class="keyword">struct</span> <a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> *);
<a name="l00702"></a><a class="code" href="mad_8h.html#8ea365ef0335b4cb80e1cc78bb00c6117ee2676f5fcc79ef37306f1c9fdf457c">00702</a> 
<a name="l00703"></a><a class="code" href="mad_8h.html#8ea365ef0335b4cb80e1cc78bb00c6113c64d6a476e31e78176c7363883bab67">00703</a> <span class="preprocessor"># define mad_stream_options(stream, opts)  ((stream)-&gt;options = (opts))</span>
<a name="l00704"></a><a class="code" href="mad_8h.html#8ea365ef0335b4cb80e1cc78bb00c6111994da74121261ba95ae78a7ccd6bf1a">00704</a> <span class="preprocessor"></span>
<a name="l00705"></a>00705 <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#d093dc109695de5cbd7bb50b7f64249e">mad_stream_buffer</a>(<span class="keyword">struct</span> <a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> *,
<a name="l00706"></a>00706              <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <span class="keyword">const</span> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>);
<a name="l00707"></a><a class="code" href="mad_8h.html#5c0ea84f562e9b8a2ba78bb32dba48d8">00707</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#e71c4bcac81926d21ad7509d11c0e8cc">mad_stream_skip</a>(<span class="keyword">struct</span> <a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>);
<a name="l00708"></a><a class="code" href="mad_8h.html#5c0ea84f562e9b8a2ba78bb32dba48d8d4e2ca2dc42b9d407ff82699d02a9891">00708</a> 
<a name="l00709"></a><a class="code" href="mad_8h.html#5c0ea84f562e9b8a2ba78bb32dba48d8e3050fcd182d8337c5aeb0ff8d531366">00709</a> <span class="keywordtype">int</span> <a class="code" href="mad_8h.html#57761cd21ad16f10dde3c0b3e6ad2d95">mad_stream_sync</a>(<span class="keyword">struct</span> <a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> *);
<a name="l00710"></a><a class="code" href="mad_8h.html#5c0ea84f562e9b8a2ba78bb32dba48d816bfa83fee4c9f07fe6f833d5a591292">00710</a> 
<a name="l00711"></a>00711 <span class="preprocessor"># endif</span>
<a name="l00712"></a>00712 <span class="preprocessor"></span>
<a name="l00713"></a><a class="code" href="structmad__header.html">00713</a> <span class="comment">/* Id: frame.h,v 1.1.1.2 2001/10/20 21:43:33 dmazzoni Exp */</span>
<a name="l00714"></a><a class="code" href="structmad__header.html#69ea17540b7b9292a37b8dd86b9d7787">00714</a> 
<a name="l00715"></a><a class="code" href="structmad__header.html#766a554a9ab575209f4bbd595e4f942c">00715</a> <span class="preprocessor"># ifndef LIBMAD_FRAME_H</span>
<a name="l00716"></a><a class="code" href="structmad__header.html#1ba44705779d2ce1160f092cd3d2a158">00716</a> <span class="preprocessor"></span><span class="preprocessor"># define LIBMAD_FRAME_H</span>
<a name="l00717"></a><a class="code" href="structmad__header.html#355a4e10075f8304c7533998bef268a2">00717</a> <span class="preprocessor"></span>
<a name="l00718"></a>00718 <span class="keyword">enum</span> <a class="code" href="mad_8h.html#bbd9de27e20bcf285c28ee515548d650">mad_layer</a> {
<a name="l00719"></a><a class="code" href="structmad__header.html#a26b0a9c946065e7b39df10c4e8f3995">00719</a>   <a class="code" href="mad_8h.html#bbd9de27e20bcf285c28ee515548d650b7cc72d7876cff555f4df5209ab2cf29">MAD_LAYER_I</a>   = 1,       <span class="comment">/* Layer I */</span>
<a name="l00720"></a><a class="code" href="structmad__header.html#c6ca4dc0cbab5c4a7014bb8c26b9d06e">00720</a>   <a class="code" href="mad_8h.html#bbd9de27e20bcf285c28ee515548d650d09aa3c6f416b6c9cde20c4fc9d9b17c">MAD_LAYER_II</a>  = 2,       <span class="comment">/* Layer II */</span>
<a name="l00721"></a>00721   <a class="code" href="mad_8h.html#bbd9de27e20bcf285c28ee515548d650851195f014842ded957735128be78f0f">MAD_LAYER_III</a> = 3        <span class="comment">/* Layer III */</span>
<a name="l00722"></a><a class="code" href="structmad__header.html#8ea6796703f278702c76098af6ccd762">00722</a> };
<a name="l00723"></a><a class="code" href="structmad__header.html#56c1726d166d76d55ee09fb681f1ace9">00723</a> 
<a name="l00724"></a>00724 <span class="keyword">enum</span> <a class="code" href="mad_8h.html#8ea365ef0335b4cb80e1cc78bb00c611">mad_mode</a> {
<a name="l00725"></a><a class="code" href="structmad__header.html#c7b0399dfabb2192aa1ed7ef07a7c7a7">00725</a>   <a class="code" href="mad_8h.html#8ea365ef0335b4cb80e1cc78bb00c6118a219f0550afb3866cdce992ca4b7535">MAD_MODE_SINGLE_CHANNEL</a> = 0,      <span class="comment">/* single channel */</span>
<a name="l00726"></a><a class="code" href="structmad__header.html#420fd7325353f23c81192a0cc7adbf1b">00726</a>   <a class="code" href="mad_8h.html#8ea365ef0335b4cb80e1cc78bb00c6117ee2676f5fcc79ef37306f1c9fdf457c">MAD_MODE_DUAL_CHANNEL</a>   = 1,      <span class="comment">/* dual channel */</span>
<a name="l00727"></a>00727   <a class="code" href="mad_8h.html#8ea365ef0335b4cb80e1cc78bb00c6113c64d6a476e31e78176c7363883bab67">MAD_MODE_JOINT_STEREO</a>   = 2,      <span class="comment">/* joint (MS/intensity) stereo */</span>
<a name="l00728"></a><a class="code" href="structmad__header.html#44026fde9a7e3bef31a901c3ae5e1268">00728</a>   <a class="code" href="mad_8h.html#8ea365ef0335b4cb80e1cc78bb00c6111994da74121261ba95ae78a7ccd6bf1a">MAD_MODE_STEREO</a>   = 3    <span class="comment">/* normal LR stereo */</span>
<a name="l00729"></a>00729 };
<a name="l00730"></a>00730 
<a name="l00731"></a><a class="code" href="structmad__frame.html">00731</a> <span class="keyword">enum</span> <a class="code" href="mad_8h.html#5c0ea84f562e9b8a2ba78bb32dba48d8">mad_emphasis</a> {
<a name="l00732"></a><a class="code" href="structmad__frame.html#65c2d01fcd43fefff994d61c55433307">00732</a>   <a class="code" href="mad_8h.html#5c0ea84f562e9b8a2ba78bb32dba48d8d4e2ca2dc42b9d407ff82699d02a9891">MAD_EMPHASIS_NONE</a>    = 0,      <span class="comment">/* no emphasis */</span>
<a name="l00733"></a>00733   <a class="code" href="mad_8h.html#5c0ea84f562e9b8a2ba78bb32dba48d8e3050fcd182d8337c5aeb0ff8d531366">MAD_EMPHASIS_50_15_US</a>   = 1,      <span class="comment">/* 50/15 microseconds emphasis */</span>
<a name="l00734"></a><a class="code" href="structmad__frame.html#9a7cdd4253810f2ec5ff5bace7144e53">00734</a>   <a class="code" href="mad_8h.html#5c0ea84f562e9b8a2ba78bb32dba48d816bfa83fee4c9f07fe6f833d5a591292">MAD_EMPHASIS_CCITT_J_17</a> = 3    <span class="comment">/* CCITT J.17 emphasis */</span>
<a name="l00735"></a>00735 };
<a name="l00736"></a><a class="code" href="structmad__frame.html#fc0e618195cde0b28d303c7378a0d67a">00736</a> 
<a name="l00737"></a><a class="code" href="structmad__frame.html#733091d904c1b539fd1a6a855fcdd5c9">00737</a> <span class="keyword">struct </span><a class="code" href="structmad__header.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_header</a> {
<a name="l00738"></a>00738   <span class="keyword">enum</span> <a class="code" href="mad_8h.html#bbd9de27e20bcf285c28ee515548d650">mad_layer</a> <a class="code" href="structmad__header.html#69ea17540b7b9292a37b8dd86b9d7787">layer</a>;       <span class="comment">/* audio layer (1, 2, or 3) */</span>
<a name="l00739"></a>00739   <span class="keyword">enum</span> <a class="code" href="mad_8h.html#8ea365ef0335b4cb80e1cc78bb00c611">mad_mode</a> <a class="code" href="structmad__header.html#766a554a9ab575209f4bbd595e4f942c">mode</a>;         <span class="comment">/* channel mode (see above) */</span>
<a name="l00740"></a><a class="code" href="mad_8h.html#6a4e08eee60222536dac401c12cf73ad">00740</a>   <span class="keywordtype">int</span> <a class="code" href="structmad__header.html#1ba44705779d2ce1160f092cd3d2a158">mode_extension</a>;         <span class="comment">/* additional mode info */</span>
<a name="l00741"></a><a class="code" href="mad_8h.html#4bbe44f918d4b0afdaaef82741ae924d">00741</a>   <span class="keyword">enum</span> <a class="code" href="mad_8h.html#5c0ea84f562e9b8a2ba78bb32dba48d8">mad_emphasis</a> <a class="code" href="structmad__header.html#355a4e10075f8304c7533998bef268a2">emphasis</a>;    <span class="comment">/* de-emphasis to use (see above) */</span>
<a name="l00742"></a>00742 
<a name="l00743"></a>00743   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="structmad__header.html#a26b0a9c946065e7b39df10c4e8f3995">bitrate</a>;      <span class="comment">/* stream bitrate (bps) */</span>
<a name="l00744"></a>00744   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structmad__header.html#c6ca4dc0cbab5c4a7014bb8c26b9d06e">samplerate</a>;    <span class="comment">/* sampling frequency (Hz) */</span>
<a name="l00745"></a>00745 
<a name="l00746"></a>00746   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structmad__header.html#8ea6796703f278702c76098af6ccd762">crc_check</a>;      <span class="comment">/* frame CRC accumulator */</span>
<a name="l00747"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167bc69c74e58f53c505c590a2e3822390ab">00747</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structmad__header.html#56c1726d166d76d55ee09fb681f1ace9">crc_target</a>;     <span class="comment">/* final target CRC checksum */</span>
<a name="l00748"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b35836164988bb2858aadeecb53febba5">00748</a> 
<a name="l00749"></a>00749   <span class="keywordtype">int</span> <a class="code" href="structmad__header.html#c7b0399dfabb2192aa1ed7ef07a7c7a7">flags</a>;            <span class="comment">/* flags (see below) */</span>
<a name="l00750"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b2cf90693fcae6053976907946cfa5b9f">00750</a>   <span class="keywordtype">int</span> <a class="code" href="structmad__header.html#420fd7325353f23c81192a0cc7adbf1b">private_bits</a>;        <span class="comment">/* private bits (see below) */</span>
<a name="l00751"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167bba41e9f06dea6efda3812ba4f9880496">00751</a> 
<a name="l00752"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b806925be9c77d407598b38913527dff9">00752</a>   <a class="code" href="structmad__timer__t.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_timer_t</a> <a class="code" href="structmad__header.html#44026fde9a7e3bef31a901c3ae5e1268">duration</a>;       <span class="comment">/* audio playing time of frame */</span>
<a name="l00753"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167ba9a2e6e1d049687af7403b89f390c1eb">00753</a> };
<a name="l00754"></a>00754 
<a name="l00755"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167bd72d0ef369967494e0195d0bce32b5c4">00755</a> <span class="keyword">struct </span><a class="code" href="structmad__frame.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_frame</a> {
<a name="l00756"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b4a1a3a8c6d1fcde78abbde255303b30e">00756</a>   <span class="keyword">struct </span><a class="code" href="structmad__header.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_header</a> <a class="code" href="structmad__frame.html#65c2d01fcd43fefff994d61c55433307">header</a>;      <span class="comment">/* MPEG audio header */</span>
<a name="l00757"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b52b9f7065011b92f10e94ae52e31049b">00757</a> 
<a name="l00758"></a>00758   <span class="keywordtype">int</span> <a class="code" href="structmad__frame.html#9a7cdd4253810f2ec5ff5bace7144e53">options</a>;          <span class="comment">/* decoding options (from stream) */</span>
<a name="l00759"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b3acf380d524284c96b17b4566bab6a29">00759</a> 
<a name="l00760"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b528d9a4b7522161be3007f1f75db51b0">00760</a>   mad_fixed_t <a class="code" href="structmad__frame.html#fc0e618195cde0b28d303c7378a0d67a">sbsample</a>[2][36][32];  <span class="comment">/* synthesis subband filter samples */</span>
<a name="l00761"></a><a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167ba3a9b72a0bc8246559527bdd3e368caa">00761</a>   <a class="code" href="mad_8h.html#5086b0f25866d1a5d2511e1c9824dfe6">mad_fixed_t</a> (*<a class="code" href="structmad__frame.html#733091d904c1b539fd1a6a855fcdd5c9">overlap</a>)[2][32][18];   <span class="comment">/* Layer III block overlap data */</span>
<a name="l00762"></a>00762 };
<a name="l00763"></a>00763 
<a name="l00764"></a>00764 <span class="preprocessor"># define MAD_NCHANNELS(header)      ((header)-&gt;mode ? 2 : 1)</span>
<a name="l00765"></a><a class="code" href="mad_8h.html#abfcbcb5ac86a1edac4035264bc7d2b80ff8b422c34ae6b5e18445b9a6d29cca">00765</a> <span class="preprocessor"></span><span class="preprocessor"># define MAD_NSBSAMPLES(header)  \</span>
<a name="l00766"></a><a class="code" href="mad_8h.html#abfcbcb5ac86a1edac4035264bc7d2b8f758cc40b67b8026a690539980997422">00766</a> <span class="preprocessor">  ((header)-&gt;layer == MAD_LAYER_I ? 12 :  \</span>
<a name="l00767"></a>00767 <span class="preprocessor">   (((header)-&gt;layer == MAD_LAYER_III &amp;&amp;  \</span>
<a name="l00768"></a>00768 <span class="preprocessor">     ((header)-&gt;flags &amp; MAD_FLAG_LSF_EXT)) ? 18 : 36))</span>
<a name="l00769"></a>00769 <span class="preprocessor"></span>
<a name="l00770"></a>00770 <span class="keyword">enum</span> {
<a name="l00771"></a><a class="code" href="mad_8h.html#007c83550e5d338c294c9ba573612556">00771</a>   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167bc69c74e58f53c505c590a2e3822390ab">MAD_FLAG_NPRIVATE_III</a> = 0x0007,   <span class="comment">/* number of Layer III private bits */</span>
<a name="l00772"></a>00772   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b35836164988bb2858aadeecb53febba5">MAD_FLAG_INCOMPLETE</a>   = 0x0008,   <span class="comment">/* header but not data is decoded */</span>
<a name="l00773"></a>00773 
<a name="l00774"></a>00774   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b2cf90693fcae6053976907946cfa5b9f">MAD_FLAG_PROTECTION</a>   = 0x0010,   <span class="comment">/* frame has CRC protection */</span>
<a name="l00775"></a>00775   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167bba41e9f06dea6efda3812ba4f9880496">MAD_FLAG_COPYRIGHT</a> = 0x0020,   <span class="comment">/* frame is copyright */</span>
<a name="l00776"></a>00776   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b806925be9c77d407598b38913527dff9">MAD_FLAG_ORIGINAL</a>  = 0x0040,   <span class="comment">/* frame is original (else copy) */</span>
<a name="l00777"></a>00777   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167ba9a2e6e1d049687af7403b89f390c1eb">MAD_FLAG_PADDING</a>   = 0x0080,   <span class="comment">/* frame has additional slot */</span>
<a name="l00778"></a>00778 
<a name="l00779"></a>00779   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167bd72d0ef369967494e0195d0bce32b5c4">MAD_FLAG_I_STEREO</a>  = 0x0100,   <span class="comment">/* uses intensity joint stereo */</span>
<a name="l00780"></a>00780   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b4a1a3a8c6d1fcde78abbde255303b30e">MAD_FLAG_MS_STEREO</a> = 0x0200,   <span class="comment">/* uses middle/side joint stereo */</span>
<a name="l00781"></a>00781   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b52b9f7065011b92f10e94ae52e31049b">MAD_FLAG_FREEFORMAT</a>   = 0x0400,   <span class="comment">/* uses free format bitrate */</span>
<a name="l00782"></a>00782 
<a name="l00783"></a>00783   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b3acf380d524284c96b17b4566bab6a29">MAD_FLAG_LSF_EXT</a>   = 0x1000,   <span class="comment">/* lower sampling freq. extension */</span>
<a name="l00784"></a>00784   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167b528d9a4b7522161be3007f1f75db51b0">MAD_FLAG_MC_EXT</a> = 0x2000,   <span class="comment">/* multichannel audio extension */</span>
<a name="l00785"></a>00785   <a class="code" href="mad_8h.html#7ff5f2dff38e7639981794c43dc9167ba3a9b72a0bc8246559527bdd3e368caa">MAD_FLAG_MPEG_2_5_EXT</a> = 0x4000 <span class="comment">/* MPEG 2.5 (unofficial) extension */</span>
<a name="l00786"></a>00786 };
<a name="l00787"></a>00787 
<a name="l00788"></a>00788 <span class="keyword">enum</span> {
<a name="l00789"></a><a class="code" href="structmad__pcm.html">00789</a>   <a class="code" href="mad_8h.html#abfcbcb5ac86a1edac4035264bc7d2b80ff8b422c34ae6b5e18445b9a6d29cca">MAD_PRIVATE_HEADER</a> = 0x0100,   <span class="comment">/* header private bit */</span>
<a name="l00790"></a><a class="code" href="structmad__pcm.html#ce1a3d7e89cbd3176904c58e84cd7b2e">00790</a>   <a class="code" href="mad_8h.html#abfcbcb5ac86a1edac4035264bc7d2b8f758cc40b67b8026a690539980997422">MAD_PRIVATE_III</a> = 0x001f <span class="comment">/* Layer III private bits (up to 5) */</span>
<a name="l00791"></a><a class="code" href="structmad__pcm.html#acd49045f4b8611f28022be2ce408952">00791</a> };
<a name="l00792"></a><a class="code" href="structmad__pcm.html#95e3411a4d6ec7bf2b17ff7a783eb01e">00792</a> 
<a name="l00793"></a><a class="code" href="structmad__pcm.html#487f06b9fffdf2ca078437a22675ccc3">00793</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#5e6a310d0e929761f5498bf7a7f23566">mad_header_init</a>(<span class="keyword">struct</span> <a class="code" href="structmad__header.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_header</a> *);
<a name="l00794"></a>00794 
<a name="l00795"></a>00795 <span class="preprocessor"># define mad_header_finish(header)  </span><span class="comment">/* nothing */</span>
<a name="l00796"></a><a class="code" href="structmad__synth.html">00796</a> 
<a name="l00797"></a><a class="code" href="structmad__synth.html#05be126f24264a53a15fb8cab4ed5b48">00797</a> <span class="keywordtype">int</span> <a class="code" href="mad_8h.html#c98c06c5e85cb8c0842b0383096f9ee9">mad_header_decode</a>(<span class="keyword">struct</span> <a class="code" href="structmad__header.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_header</a> *, <span class="keyword">struct</span> <a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> *);
<a name="l00798"></a>00798 
<a name="l00799"></a>00799 <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#3c78ba961e454462c18cfeba70d1137c">mad_frame_init</a>(<span class="keyword">struct</span> <a class="code" href="structmad__frame.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_frame</a> *);
<a name="l00800"></a><a class="code" href="structmad__synth.html#58063ab3020085d470a8cc460bca39a7">00800</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#92fbcef46fd20f35426f5ad0853a8649">mad_frame_finish</a>(<span class="keyword">struct</span> <a class="code" href="structmad__frame.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_frame</a> *);
<a name="l00801"></a>00801 
<a name="l00802"></a><a class="code" href="structmad__synth.html#4722ec26c24589445c49b9c823a9366b">00802</a> <span class="keywordtype">int</span> <a class="code" href="mad_8h.html#bcee46b2b808ebf6e0d1c3748b590a38">mad_frame_decode</a>(<span class="keyword">struct</span> <a class="code" href="structmad__frame.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_frame</a> *, <span class="keyword">struct</span> <a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> *);
<a name="l00803"></a>00803 
<a name="l00804"></a>00804 <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#1c0f45d2bbf2b433bc18159a01639b68">mad_frame_mute</a>(<span class="keyword">struct</span> <a class="code" href="structmad__frame.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_frame</a> *);
<a name="l00805"></a>00805 
<a name="l00806"></a>00806 <span class="preprocessor"># endif</span>
<a name="l00807"></a><a class="code" href="mad_8h.html#8903fb5f091ccf9c7b75b5351de3a586">00807</a> <span class="preprocessor"></span>
<a name="l00808"></a>00808 <span class="comment">/* Id: synth.h,v 1.1.1.2 2001/10/20 21:43:33 dmazzoni Exp */</span>
<a name="l00809"></a>00809 
<a name="l00810"></a>00810 <span class="preprocessor"># ifndef LIBMAD_SYNTH_H</span>
<a name="l00811"></a>00811 <span class="preprocessor"></span><span class="preprocessor"># define LIBMAD_SYNTH_H</span>
<a name="l00812"></a>00812 <span class="preprocessor"></span>
<a name="l00813"></a>00813 <span class="keyword">struct </span><a class="code" href="structmad__pcm.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_pcm</a> {
<a name="l00814"></a>00814   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structmad__pcm.html#ce1a3d7e89cbd3176904c58e84cd7b2e">samplerate</a>;    <span class="comment">/* sampling frequency (Hz) */</span>
<a name="l00815"></a>00815   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structmad__pcm.html#acd49045f4b8611f28022be2ce408952">channels</a>;    <span class="comment">/* number of channels */</span>
<a name="l00816"></a>00816   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="structmad__pcm.html#95e3411a4d6ec7bf2b17ff7a783eb01e">length</a>;      <span class="comment">/* number of samples per channel */</span>
<a name="l00817"></a>00817   mad_fixed_t <a class="code" href="structmad__pcm.html#487f06b9fffdf2ca078437a22675ccc3">samples</a>[2][1152];     <span class="comment">/* PCM output samples */</span>
<a name="l00818"></a>00818 };
<a name="l00819"></a>00819 
<a name="l00820"></a><a class="code" href="mad_8h.html#0d55d67e9f9acf69f677f86053e88b6a">00820</a> <span class="keyword">struct </span><a class="code" href="structmad__synth.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_synth</a> {
<a name="l00821"></a><a class="code" href="mad_8h.html#0d55d67e9f9acf69f677f86053e88b6a4670478d6f7c6dd89f794e9a87091ac2">00821</a>   mad_fixed_t <a class="code" href="structmad__synth.html#05be126f24264a53a15fb8cab4ed5b48">filter</a>[2][2][2][16][8];  <span class="comment">/* polyphase filterbank outputs */</span>
<a name="l00822"></a><a class="code" href="mad_8h.html#0d55d67e9f9acf69f677f86053e88b6a0d44eb0cd37486eb0c2a67342423c8ca">00822</a>                <span class="comment">/* [ch][eo][peo][s][v] */</span>
<a name="l00823"></a>00823 
<a name="l00824"></a>00824   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structmad__synth.html#58063ab3020085d470a8cc460bca39a7">phase</a>;         <span class="comment">/* current processing phase */</span>
<a name="l00825"></a><a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">00825</a> 
<a name="l00826"></a><a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c311b96bfcdbf1f442b96c664ccca4db75">00826</a>   <span class="keyword">struct </span><a class="code" href="structmad__pcm.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_pcm</a> <a class="code" href="structmad__synth.html#4722ec26c24589445c49b9c823a9366b">pcm</a>;         <span class="comment">/* PCM output */</span>
<a name="l00827"></a><a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3c571b8cfa11b3410216ada267dc3cc58">00827</a> };
<a name="l00828"></a><a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c34b1ad981b82f16a00a6f045d75b88cf6">00828</a> 
<a name="l00829"></a><a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c368fce20ac0252d77570ce0be605ad87f">00829</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#17758012effd02195edac57db0480cec">mad_synth_init</a>(<span class="keyword">struct</span> <a class="code" href="structmad__synth.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_synth</a> *);
<a name="l00830"></a>00830 
<a name="l00831"></a>00831 <span class="preprocessor"># define mad_synth_finish(synth)  </span><span class="comment">/* nothing */</span>
<a name="l00832"></a><a class="code" href="structmad__decoder.html">00832</a> 
<a name="l00833"></a><a class="code" href="structmad__decoder.html#4b099e23e17617d7b71d08d10eed7d08">00833</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#2420929ab84b250fc2aaef25ccda6849">mad_synth_mute</a>(<span class="keyword">struct</span> <a class="code" href="structmad__synth.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_synth</a> *);
<a name="l00834"></a>00834 
<a name="l00835"></a><a class="code" href="structmad__decoder.html#e9aa89b5fdbe3927bc168f4334f88196">00835</a> <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#e5ab86e983f98b726dca0552c65be28c">mad_synth_frame</a>(<span class="keyword">struct</span> <a class="code" href="structmad__synth.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_synth</a> *, <span class="keyword">struct</span> <a class="code" href="structmad__frame.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_frame</a> <span class="keyword">const</span> *);
<a name="l00836"></a>00836 
<a name="l00837"></a>00837 <span class="preprocessor"># endif</span>
<a name="l00838"></a><a class="code" href="structmad__decoder.html#72d64fb82706560651ec3ee6cbf500d2">00838</a> <span class="preprocessor"></span>
<a name="l00839"></a><a class="code" href="structmad__decoder.html#ecedf7b9ab4d0dd3c8817dc96c07f28e">00839</a> <span class="comment">/* Id: decoder.h,v 1.1.1.2 2001/10/20 21:43:34 dmazzoni Exp */</span>
<a name="l00840"></a><a class="code" href="structmad__decoder.html#f4e6ba82d0062976edd0b0ca886c1c1e">00840</a> 
<a name="l00841"></a>00841 <span class="preprocessor"># ifndef LIBMAD_DECODER_H</span>
<a name="l00842"></a>00842 <span class="preprocessor"></span><span class="preprocessor"># define LIBMAD_DECODER_H</span>
<a name="l00843"></a>00843 <span class="preprocessor"></span>
<a name="l00844"></a><a class="code" href="structmad__decoder.html#4d0b89b70cb6bbc3172a222ba9c751d1">00844</a> <span class="keyword">enum</span> <a class="code" href="mad_8h.html#0d55d67e9f9acf69f677f86053e88b6a">mad_decoder_mode</a> {
<a name="l00845"></a><a class="code" href="structmad__decoder.html#35cf3f7b3aaa4336718ff1896808bd70">00845</a>   <a class="code" href="mad_8h.html#0d55d67e9f9acf69f677f86053e88b6a4670478d6f7c6dd89f794e9a87091ac2">MAD_DECODER_MODE_SYNC</a>  = 0,
<a name="l00846"></a><a class="code" href="structmad__decoder.html#7fda021db48c654ff0db728dd5c040a3">00846</a>   <a class="code" href="mad_8h.html#0d55d67e9f9acf69f677f86053e88b6a0d44eb0cd37486eb0c2a67342423c8ca">MAD_DECODER_MODE_ASYNC</a>
<a name="l00847"></a>00847 };
<a name="l00848"></a>00848 
<a name="l00849"></a><a class="code" href="structmad__decoder.html#38656a2e5508340265eecc45fef8fe5f">00849</a> <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> {
<a name="l00850"></a>00850   <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c311b96bfcdbf1f442b96c664ccca4db75">MAD_FLOW_CONTINUE</a> = 0x0000,
<a name="l00851"></a>00851   <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3c571b8cfa11b3410216ada267dc3cc58">MAD_FLOW_STOP</a>     = 0x0010,
<a name="l00852"></a>00852   <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c34b1ad981b82f16a00a6f045d75b88cf6">MAD_FLOW_BREAK</a>    = 0x0011,
<a name="l00853"></a>00853   <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c368fce20ac0252d77570ce0be605ad87f">MAD_FLOW_IGNORE</a>   = 0x0020
<a name="l00854"></a>00854 };
<a name="l00855"></a>00855 
<a name="l00856"></a>00856 <span class="keyword">struct </span><a class="code" href="structmad__decoder.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_decoder</a> {
<a name="l00857"></a>00857   <span class="keyword">enum</span> <a class="code" href="mad_8h.html#0d55d67e9f9acf69f677f86053e88b6a">mad_decoder_mode</a> <a class="code" href="structmad__decoder.html#4b099e23e17617d7b71d08d10eed7d08">mode</a>;
<a name="l00858"></a>00858 
<a name="l00859"></a>00859   <span class="keywordtype">int</span> <a class="code" href="structmad__decoder.html#e9aa89b5fdbe3927bc168f4334f88196">options</a>;
<a name="l00860"></a>00860 
<a name="l00861"></a>00861   <span class="keyword">struct </span>{
<a name="l00862"></a>00862     <span class="keywordtype">long</span> <a class="code" href="structmad__decoder.html#72d64fb82706560651ec3ee6cbf500d2">pid</a>;
<a name="l00863"></a>00863     <span class="keywordtype">int</span> <a class="code" href="structmad__decoder.html#ecedf7b9ab4d0dd3c8817dc96c07f28e">in</a>;
<a name="l00864"></a>00864     <span class="keywordtype">int</span> <a class="code" href="structmad__decoder.html#f4e6ba82d0062976edd0b0ca886c1c1e">out</a>;
<a name="l00865"></a>00865   } <a class="code" href="structmad__decoder.html#ca5adb5cabaaf6f68285cbe3225ea181">async</a>;
<a name="l00866"></a>00866 
<a name="l00867"></a>00867   <span class="keyword">struct </span>{
<a name="l00868"></a>00868     <span class="keyword">struct </span><a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> <a class="code" href="structmad__decoder.html#4d0b89b70cb6bbc3172a222ba9c751d1">stream</a>;
<a name="l00869"></a>00869     <span class="keyword">struct </span><a class="code" href="structmad__frame.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_frame</a> <a class="code" href="structmad__decoder.html#35cf3f7b3aaa4336718ff1896808bd70">frame</a>;
<a name="l00870"></a>00870     <span class="keyword">struct </span><a class="code" href="structmad__synth.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_synth</a> <a class="code" href="structmad__decoder.html#7fda021db48c654ff0db728dd5c040a3">synth</a>;
<a name="l00871"></a>00871   } *<a class="code" href="structmad__decoder.html#bc17c1f17628e223a5186606521e6d93">sync</a>;
<a name="l00872"></a>00872 
<a name="l00873"></a>00873   <span class="keywordtype">void</span> *<a class="code" href="structmad__decoder.html#38656a2e5508340265eecc45fef8fe5f">cb_data</a>;
<a name="l00874"></a>00874 
<a name="l00875"></a>00875   <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*<a class="code" href="structmad__decoder.html#006915bc94cbb087f5a2073a4b49d1bd">input_func</a>)(<span class="keywordtype">void</span> *, <span class="keyword">struct </span><a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> *);
<a name="l00876"></a><a class="code" href="mad_8h.html#2a3391e2662667e5d49ae280614654ea">00876</a>   <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*<a class="code" href="structmad__decoder.html#de30180873067a42e095265390dc1ba4">header_func</a>)(<span class="keywordtype">void</span> *, <span class="keyword">struct </span><a class="code" href="structmad__header.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_header</a> const *);
<a name="l00877"></a>00877   <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*<a class="code" href="structmad__decoder.html#b2c40d16b6339ff1ad4c4142069c3597">filter_func</a>)(<span class="keywordtype">void</span> *,
<a name="l00878"></a>00878                 <span class="keyword">struct </span><a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> const *, <span class="keyword">struct </span><a class="code" href="structmad__frame.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_frame</a> *);
<a name="l00879"></a>00879   <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*<a class="code" href="structmad__decoder.html#48289cb5be13e08b11f880a87d3990ef">output_func</a>)(<span class="keywordtype">void</span> *,
<a name="l00880"></a>00880                 <span class="keyword">struct </span><a class="code" href="structmad__header.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_header</a> const *, <span class="keyword">struct </span><a class="code" href="structmad__pcm.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_pcm</a> *);
<a name="l00881"></a>00881   <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*<a class="code" href="structmad__decoder.html#ad0550e4516e52a1b59a5d2d95ebe3d9">error_func</a>)(<span class="keywordtype">void</span> *, <span class="keyword">struct </span><a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> *, <span class="keyword">struct </span><a class="code" href="structmad__frame.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_frame</a> *);
<a name="l00882"></a>00882   <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*<a class="code" href="structmad__decoder.html#44577c1d539888c49dcc2f06dc136076">message_func</a>)(<span class="keywordtype">void</span> *, <span class="keywordtype">void</span> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *);
<a name="l00883"></a>00883 };
<a name="l00884"></a>00884 
<a name="l00885"></a>00885 <span class="keywordtype">void</span> <a class="code" href="mad_8h.html#c70e497b9c21d6c01cb1c41658eaa1b6">mad_decoder_init</a>(<span class="keyword">struct</span> <a class="code" href="structmad__decoder.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_decoder</a> *, <span class="keywordtype">void</span> *,
<a name="l00886"></a>00886             <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*)(<span class="keywordtype">void</span> *, <span class="keyword">struct</span> <a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> *),
<a name="l00887"></a>00887             <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*)(<span class="keywordtype">void</span> *, <span class="keyword">struct</span> <a class="code" href="structmad__header.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_header</a> <span class="keyword">const</span> *),
<a name="l00888"></a>00888             <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*)(<span class="keywordtype">void</span> *,
<a name="l00889"></a>00889                <span class="keyword">struct</span> <a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> <span class="keyword">const</span> *,
<a name="l00890"></a>00890                <span class="keyword">struct</span> <a class="code" href="structmad__frame.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_frame</a> *),
<a name="l00891"></a>00891             <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*)(<span class="keywordtype">void</span> *,
<a name="l00892"></a>00892                <span class="keyword">struct</span> <a class="code" href="structmad__header.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_header</a> <span class="keyword">const</span> *,
<a name="l00893"></a>00893                <span class="keyword">struct</span> <a class="code" href="structmad__pcm.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_pcm</a> *),
<a name="l00894"></a>00894             <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*)(<span class="keywordtype">void</span> *,
<a name="l00895"></a>00895                <span class="keyword">struct</span> <a class="code" href="structmad__stream.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_stream</a> *,
<a name="l00896"></a>00896                <span class="keyword">struct</span> <a class="code" href="structmad__frame.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_frame</a> *),
<a name="l00897"></a>00897             <span class="keyword">enum</span> <a class="code" href="mad_8h.html#665565932de11bfcb75513a8e61543c3">mad_flow</a> (*)(<span class="keywordtype">void</span> *, <span class="keywordtype">void</span> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *));
<a name="l00898"></a>00898 <span class="keywordtype">int</span> <a class="code" href="mad_8h.html#56b468fcf675abe04387436810a07fda">mad_decoder_finish</a>(<span class="keyword">struct</span> <a class="code" href="structmad__decoder.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_decoder</a> *);
<a name="l00899"></a>00899 
<a name="l00900"></a>00900 <span class="preprocessor"># define mad_decoder_options(decoder, opts)  ((decoder)-&gt;options = (opts))</span>
<a name="l00901"></a>00901 <span class="preprocessor"></span>
<a name="l00902"></a>00902 <span class="keywordtype">int</span> <a class="code" href="mad_8h.html#15bcb1ee95b6b65d8ec4d54a018c2bbf">mad_decoder_run</a>(<span class="keyword">struct</span> <a class="code" href="structmad__decoder.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_decoder</a> *, <span class="keyword">enum</span> <a class="code" href="mad_8h.html#0d55d67e9f9acf69f677f86053e88b6a">mad_decoder_mode</a>);
<a name="l00903"></a>00903 <span class="keywordtype">int</span> <a class="code" href="mad_8h.html#6ab2b36ad800331d9199cef327116c27">mad_decoder_message</a>(<span class="keyword">struct</span> <a class="code" href="structmad__decoder.html" title="struct in the MPEG library, used for MP3 compression by MP3Exporter">mad_decoder</a> *, <span class="keywordtype">void</span> *, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *);
<a name="l00904"></a>00904 
<a name="l00905"></a>00905 <span class="preprocessor"># endif</span>
<a name="l00906"></a>00906 <span class="preprocessor"></span>
<a name="l00907"></a>00907 <span class="preprocessor"># ifdef __cplusplus</span>
<a name="l00908"></a>00908 <span class="preprocessor"></span>}
<a name="l00909"></a>00909 <span class="preprocessor"># endif</span>
<a name="l00910"></a>00910 <span class="preprocessor"></span>
<a name="l00911"></a>00911 <span class="comment">// Indentation settings for Vim and Emacs and unique identifier for Arch, a</span>
<a name="l00912"></a>00912 <span class="comment">// version control system. Please do not modify past this point.</span>
<a name="l00913"></a>00913 <span class="comment">//</span>
<a name="l00914"></a>00914 <span class="comment">// Local Variables:</span>
<a name="l00915"></a>00915 <span class="comment">// c-basic-offset: 3</span>
<a name="l00916"></a>00916 <span class="comment">// indent-tabs-mode: nil</span>
<a name="l00917"></a>00917 <span class="comment">// End:</span>
<a name="l00918"></a>00918 <span class="comment">//</span>
<a name="l00919"></a>00919 <span class="comment">// vim: et sts=3 sw=3</span>
<a name="l00920"></a>00920 <span class="comment">// arch-tag: 78838315-ebc9-49d8-9981-e1e39df09669</span>
<a name="l00921"></a>00921 
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Sat Oct 11 21:08:32 2008 for Audacity by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
