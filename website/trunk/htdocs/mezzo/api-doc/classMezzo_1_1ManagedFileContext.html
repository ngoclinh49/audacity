<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Mezzo: Mezzo::ManagedFileContext class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>Mezzo::ManagedFileContext Class Reference</h1>A class that creates and tracks ManagedFiles in a particular directory.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="ManagedFileContext_8h-source.html">ManagedFileContext.h</a>&gt;</code>
<p>
<p>Inheritance diagram for Mezzo::ManagedFileContext:
<p><center><img src="classMezzo_1_1ManagedFileContext.png" usemap="#Mezzo::ManagedFileContext_map" border="0" alt=""></center>
<map name="Mezzo::ManagedFileContext_map">
<area href="classMezzo_1_1SeqBlockContext.html" alt="Mezzo::SeqBlockContext" shape="rect" coords="0,56,171,80">
<area href="classMezzo_1_1Storable.html" alt="Mezzo::Storable" shape="rect" coords="0,0,171,24">
</map>
<a href="classMezzo_1_1ManagedFileContext-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a0">ManagedFileContext</a> (std::string dir)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a1">ManagedFileContext</a> (<a class="el" href="classMezzo_1_1Loader.html">Loader</a> &amp;loader)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a2">~ManagedFileContext</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free the context, throwing an exception if references to its files are live.  <a href="#a2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a3">GetRef</a> (<a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a> *file)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a reference suitable for use in this context.  <a href="#a3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a4">ReleaseRef</a> (<a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a> *file)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a5">MoveToNewDirectory</a> (std::string dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move or copy all files to a new directory.  <a href="#a5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a6">LockFiles</a> (std::set&lt; <a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a> * &gt; filesToCommit)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lock the given set of files in this context.  <a href="#a6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a7">Release</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allow this context to delete itself when all its files are abandoned.  <a href="#a7"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a8">Store</a> (<a class="el" href="classMezzo_1_1Storer.html">Storer</a> &amp;storer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a9">Store</a> (<a class="el" href="classMezzo_1_1Storer.html">Storer</a> &amp;storer, std::string relativePath, std::set&lt; <a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a> * &gt; filesToStore)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classMezzo_1_1SeqBlock.html">SeqBlock</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a10">NewSeqBlock</a> (<a class="el" href="classMezzo_1_1Buffer.html">Buffer</a> buffer)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classMezzo_1_1SeqBlock.html">SeqBlock</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a11">GetSeqBlockRef</a> (<a class="el" href="classMezzo_1_1SeqBlock.html">SeqBlock</a> *block)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classMezzo_1_1SeqBlock.html">SeqBlock</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a12">GetSeqBlockRef</a> (<a class="el" href="classMezzo_1_1Loader.html">Loader</a> &amp;loader, std::string id)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a13">ReleaseSeqBlockRef</a> (<a class="el" href="classMezzo_1_1SeqBlock.html">SeqBlock</a> *block)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a14">GetNumSeqBlocks</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a15">Ref</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#a16">Deref</a> ()</td></tr>

<tr><td colspan=2><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classMezzo_1_1ManagedFileContext.html#e0">LoadBackgroundRequests</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A class that creates and tracks ManagedFiles in a particular directory. The files in this directory are reference-counted by <a class="el" href="classMezzo_1_1ManagedFileContext.html">ManagedFileContext</a> and moved, deleted, or copied as needed.<p>
Classes that are using ManagedFiles need to be careful to release all references to them when they are finished. When a <a class="el" href="classMezzo_1_1ManagedFileContext.html">ManagedFileContext</a> is destroyed by going out of scope or being deleted it will throw an exception if any references to files in that context remain. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="Mezzo::ManagedFileContext::ManagedFileContext" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Mezzo::ManagedFileContext::ManagedFileContext </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::string&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dir</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="Mezzo::ManagedFileContext::ManagedFileContext" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Mezzo::ManagedFileContext::ManagedFileContext </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMezzo_1_1Loader.html">Loader</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>loader</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="Mezzo::ManagedFileContext::~ManagedFileContext" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> Mezzo::ManagedFileContext::~<a class="el" href="classMezzo_1_1ManagedFileContext.html">ManagedFileContext</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a16" doxytag="Mezzo::ManagedFileContext::Deref" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Mezzo::ManagedFileContext::Deref </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Implements <a class="el" href="classMezzo_1_1SeqBlockContext.html">Mezzo::SeqBlockContext</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="Mezzo::ManagedFileContext::GetNumSeqBlocks" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int Mezzo::ManagedFileContext::GetNumSeqBlocks </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the number of SeqBlocks currently allocated in this context. If the owner of this context thinks that all blocks have been freed but finds that this method returns nonzero, the client knows it leaked some blocks. 
<p>
Implements <a class="el" href="classMezzo_1_1SeqBlockContext.html">Mezzo::SeqBlockContext</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="Mezzo::ManagedFileContext::GetRef" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a> * Mezzo::ManagedFileContext::GetRef </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>file</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A client calls this method when it wants to use a <a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a> it has obtained from somewhere, perhaps the same context but perhaps not. If it is from this context, it will increase the refcount by one and return the same file. Otherwise it will copy the file into this context and return the copy.     </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="Mezzo::ManagedFileContext::GetSeqBlockRef" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classMezzo_1_1SeqBlock.html">SeqBlock</a> * Mezzo::ManagedFileContext::GetSeqBlockRef </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMezzo_1_1Loader.html">Loader</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>loader</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>id</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Implements <a class="el" href="classMezzo_1_1SeqBlockContext.html">Mezzo::SeqBlockContext</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="Mezzo::ManagedFileContext::GetSeqBlockRef" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classMezzo_1_1SeqBlock.html">SeqBlock</a> * Mezzo::ManagedFileContext::GetSeqBlockRef </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMezzo_1_1SeqBlock.html">SeqBlock</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>block</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get a reference that is suitable for use in this context, whether the given <a class="el" href="classMezzo_1_1SeqBlock.html">SeqBlock</a> is from this context or not. In practice this will add one to the refcount and return the same block if the given block is from this context, otherwise it will make a copy in this context. This method must be called from the disk thread, because it does a lot of serious disk I/O. 
<p>
Implements <a class="el" href="classMezzo_1_1SeqBlockContext.html">Mezzo::SeqBlockContext</a>.    </td>
  </tr>
</table>
<a class="anchor" name="e0" doxytag="Mezzo::ManagedFileContext::LoadBackgroundRequests" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Mezzo::ManagedFileContext::LoadBackgroundRequests </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="Mezzo::ManagedFileContext::LockFiles" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Mezzo::ManagedFileContext::LockFiles </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::set&lt; <a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a> * &gt;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>filesToCommit</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="Mezzo::ManagedFileContext::MoveToNewDirectory" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Mezzo::ManagedFileContext::MoveToNewDirectory </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::string&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dir</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="Mezzo::ManagedFileContext::NewSeqBlock" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classMezzo_1_1SeqBlock.html">SeqBlock</a> * Mezzo::ManagedFileContext::NewSeqBlock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMezzo_1_1Buffer.html">Buffer</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>buffer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Implements <a class="el" href="classMezzo_1_1SeqBlockContext.html">Mezzo::SeqBlockContext</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="Mezzo::ManagedFileContext::Ref" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Mezzo::ManagedFileContext::Ref </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Implements <a class="el" href="classMezzo_1_1SeqBlockContext.html">Mezzo::SeqBlockContext</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="Mezzo::ManagedFileContext::Release" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Mezzo::ManagedFileContext::Release </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If no clients are currently referencing this context, the context will be deleted. Otherwise, it will be deleted when no clients reference it.     </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="Mezzo::ManagedFileContext::ReleaseRef" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Mezzo::ManagedFileContext::ReleaseRef </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>file</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A client calls this method when it is no longer interested in a reference to a <a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a>. This is all a client should do; it should not delete the memory object nor the disk file.     </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="Mezzo::ManagedFileContext::ReleaseSeqBlockRef" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Mezzo::ManagedFileContext::ReleaseSeqBlockRef </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMezzo_1_1SeqBlock.html">SeqBlock</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>block</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Free use of a block previously acquired using either NewSeqBlock or GetRef. In practice this will decrement the reference count by one, and delete the block if the reference count hits zero. 
<p>
Implements <a class="el" href="classMezzo_1_1SeqBlockContext.html">Mezzo::SeqBlockContext</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="Mezzo::ManagedFileContext::Store" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Mezzo::ManagedFileContext::Store </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMezzo_1_1Storer.html">Storer</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>storer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::string&nbsp;</td>
          <td class="mdname" nowrap> <em>relativePath</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>std::set&lt; <a class="el" href="classMezzo_1_1ManagedFile.html">ManagedFile</a> * &gt;&nbsp;</td>
          <td class="mdname" nowrap> <em>filesToStore</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="Mezzo::ManagedFileContext::Store" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void Mezzo::ManagedFileContext::Store </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classMezzo_1_1Storer.html">Storer</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>storer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Implements <a class="el" href="classMezzo_1_1Storable.html#a1">Mezzo::Storable</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ManagedFileContext_8h-source.html">ManagedFileContext.h</a><li><a class="el" href="ManagedFileContext_8cpp.html">ManagedFileContext.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri May 19 20:42:23 2006 for Mezzo by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
